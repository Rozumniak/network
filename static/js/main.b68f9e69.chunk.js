(this["webpackJsonpreakt-kabzda-1"]=this["webpackJsonpreakt-kabzda-1"]||[]).push([[0],{125:function(e,t,n){e.exports={item:"Post_item__qgLu_",likeButton:"Post_likeButton__3j_qt"}},127:function(e,t,n){e.exports={paginator:"Paginator_paginator__TmYM-",pageNumber:"Paginator_pageNumber__VTzaX",selectedPage:"Paginator_selectedPage__3SkPi"}},148:function(e,t,n){e.exports={postsBlock:"MyPosts_postsBlock__IKVWh",posts:"MyPosts_posts__2281S"}},151:function(e,t,n){e.exports={formControl:"FormControls_formControl__2Y3MO",error:"FormControls_error__3fwNV",formSummaryError:"FormControls_formSummaryError__3uC7c"}},154:function(e,t,n){e.exports={item:"Dialog_item__1E3wH",active:"Dialog_active__22o0r"}},155:function(e,t,n){e.exports={userPhoto:"Users_userPhoto__3V6cJ",followButton:"Users_followButton__10njZ"}},156:function(e,t,n){e.exports={header:"Header_header__1Ya28",loginBlock:"Header_loginBlock__AUhM_"}},236:function(e,t,n){},237:function(e,t,n){},358:function(e,t,n){},360:function(e,t,n){},361:function(e,t,n){},362:function(e,t,n){},363:function(e,t,n){"use strict";n.r(t);var r,s=n(0),a=n.n(s),i=n(38),c=n.n(i),o=(n(236),n(32)),l=n(33),u=n(35),d=n(34),j=(n(237),n(8)),p=n(48),b=n(54),h=n(125),f=n.n(h),O=n(203),g=n.p+"static/media/1.a2446033.png",m=n(1),x=function(e){var t=Object(s.useState)(!1),n=Object(b.a)(t,2),r=n[0],a=n[1];return e.profile?Object(m.jsxs)("div",{className:f.a.item,children:[Object(m.jsx)("img",{src:e.profile.photos.small||g,className:f.a.userPhoto}),e.message,Object(m.jsx)("div",{children:Object(m.jsxs)("span",{children:["like ",e.like]})}),!1===r?Object(m.jsx)("div",{className:f.a.likeButton,children:Object(m.jsx)("button",{onClick:function(){return a(!0)},children:"Like"})}):Object(m.jsx)("div",{children:Object(m.jsx)("button",{onClick:function(){return a(!1)},children:"like"})}),Object(m.jsx)("div",{children:Object(m.jsx)(O.a,{onClick:e.deletePost,children:" X "})})]}):null},v=n(148),P=n.n(v),_=n(189),C=n(368),w=n(367),y=n(37),k=n.n(y),S=n(58),N=n(146),E=N.create({withCredentials:!0,headers:{"API-KEY":"cc3bd8cc-4d54-4fd5-94a6-1a89051413f6"},baseURL:"https://social-network.samuraijs.com/api/1.0/"}),I=function(e,t){return E.get("users?page=".concat(e," &count=").concat(t)).then((function(e){return e.data}))},U=function(e){return E.delete("follow/".concat(e))},T=function(e){return E.post("follow/".concat(e))},A=function(e){return E.get("profile/"+e)},M=function(e){return E.get("profile/status/"+e)},D=function(e){return E.put("profile/status",{status:e})},F=function(e){var t=new FormData;return t.append("image",e),E.put("profile/photo",t,{headers:{"Content-Type":"multipart/form/data"}})},R=function(e){return E.put("profile",e)},B=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3?arguments[3]:void 0;return E.post("auth/login",{email:e,password:t,rememberMe:n,captcha:r})},L=function(){return E.delete("auth/login")},z=function(){return E.get("/security/get-captcha-url")},G="ADD-POST",H="SET_USER_PROFILE",V="SET_USER_STATUS",J="STATUS_UPDATE",W="SAVE_PHOTO_SUCCESS",Y="ACTIVATE_EDIT_MODE",q="DEACTIVATE_EDIT_MODE",X="DELETE_POST",K={posts:[{id:1,text:"Hello world",likesCount:12},{id:2,text:"This is my first post",likesCount:10}],profile:null,status:"",profileEditMode:!1,statusInProgress:!1},Q=function(e){return{type:H,profile:e}},Z=function(e){return{type:V,status:e}},$=function(e){return{type:W,photos:e}},ee=function(){return{type:Y}},te=function(){return{type:q}},ne=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:K,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case G:return Object(j.a)(Object(j.a)({},e),{},{posts:[].concat(Object(p.a)(e.posts),[{id:6,text:t.newText,likesCount:0}])});case H:return Object(j.a)(Object(j.a)({},e),{},{profile:t.profile});case V:return Object(j.a)(Object(j.a)({},e),{},{status:t.status});case J:return Object(j.a)(Object(j.a)({},e),{},{statusInProgress:t.isUpdate});case W:return Object(j.a)(Object(j.a)({},e),{},{profile:Object(j.a)(Object(j.a)({},e.profile),{},{photos:t.photos})});case Y:return Object(j.a)(Object(j.a)({},e),{},{profileEditMode:!0});case q:return Object(j.a)(Object(j.a)({},e),{},{profileEditMode:!1});case X:return Object(j.a)(Object(j.a)({},e),{},{posts:Object(j.a)({},e.posts.filter((function(e){return e.id!=t.postID})))});default:return e}},re={labelCol:{span:8},wrapperCol:{span:16}},se=(C.a.TextArea,r=100,Object(_.a)({form:"addPost"})((function(e){return Object(m.jsxs)(w.a,Object(j.a)(Object(j.a)({},re),{},{name:"nest-messages",onFinish:e.onSubmit,children:[Object(m.jsx)(w.a.Item,{name:"post",size:"large",rules:[{required:!0,message:"Please input text!"}],children:Object(m.jsx)(C.a.TextArea,{})}),Object(m.jsx)(w.a.Item,{wrapperCol:Object(j.a)(Object(j.a)({},re.wrapperCol),{},{offset:6,span:100}),children:Object(m.jsx)(O.a,{type:"primary",htmlType:"submit",children:"\u041e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c"})})]}))}))),ae=a.a.memo((function(e){console.log("RENDER");var t=Object(p.a)(e.profilePage.posts).reverse().map((function(t,n){return Object(m.jsx)("div",{children:Object(m.jsx)(x,{message:t.text,like:t.likesCount,dispatch:e.dispatch,profile:e.profile,deletePost:e.deletePost})},n)}));if(!e.profile)return null;return Object(m.jsxs)("div",{className:P.a.postsBlock,children:[Object(m.jsx)("h3",{children:"My posts"}),Object(m.jsx)(se,{onSubmit:function(t){var n=t.post;e.addPost(n),t.post=null}}),Object(m.jsx)("div",{className:P.a.posts,children:t})]})})),ie=(n(358),n(74)),ce=n.n(ie),oe=n.p+"static/media/Curve-Loading.5e01ee79.gif",le=function(){return Object(m.jsx)("div",{children:Object(m.jsx)("img",{src:oe})})},ue=function(e){var t=Object(s.useState)(!1),n=Object(b.a)(t,2),r=n[0],a=n[1],i=Object(s.useState)(e.status),c=Object(b.a)(i,2),o=c[0],l=c[1];Object(s.useEffect)((function(){l(e.status)}),[e.status]);return Object(m.jsxs)("div",{children:[!r&&Object(m.jsxs)("div",{children:[Object(m.jsx)("b",{children:"Status:   "}),Object(m.jsx)("span",{onDoubleClick:function(){e.isOwner&&a(!0)},children:e.status||"------"})]}),r&&Object(m.jsx)("div",{children:Object(m.jsx)("input",{autoFocus:!0,onBlur:function(){a(!1),e.updateStatus(o)},onChange:function(e){l(e.currentTarget.value)},value:o})})]})},de=n(372),je=n(128),pe=n(151),be=n.n(pe),he=n(188),fe=function(e){e.input;var t=e.meta,n=(e.child,Object(je.a)(e,["input","meta","child"])),r=t.error&&t.touched;return Object(m.jsxs)("div",{className:be.a.formControl+" "+(r?be.a.error:" "),children:[Object(m.jsx)("div",{children:n.children}),Object(m.jsx)("div",{children:r&&Object(m.jsx)("span",{children:t.error})})]})},Oe=function(e){var t=e.input,n=(e.meta,e.child,Object(je.a)(e,["input","meta","child"]));return Object(m.jsx)(fe,Object(j.a)(Object(j.a)({},e),{},{children:Object(m.jsx)("textarea",Object(j.a)(Object(j.a)({},t),n))}))},ge=function(e,t,n,r){var s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"";return Object(m.jsxs)("div",{children:[Object(m.jsx)(he.a,Object(j.a)({placeholder:e,name:t,validate:n,component:r},s))," ",a]})},me=Object(_.a)({form:"edit-profile"})((function(e){var t=e.handleSubmit,n=e.props,r=e.profile;return Object(m.jsxs)("div",{children:[Object(m.jsx)("div",{className:ce.a.photoUpload,children:Object(m.jsx)(C.a,{icon:Object(m.jsx)(de.a,{}),type:"file",onChange:function(e){e.target.files.length&&n.savePhoto(e.target.files[0])}})}),Object(m.jsxs)("form",{onSubmit:t,children:[Object(m.jsx)("div",{children:Object(m.jsx)("button",{onClick:function(){},children:"Save"})}),Object(m.jsxs)("div",{children:[Object(m.jsx)("b",{children:"Full name:"})," ",ge("Full name","fullName",[],"input")]}),Object(m.jsxs)("div",{children:[Object(m.jsx)("b",{children:"\u0412 \u043f\u043e\u0438\u0441\u043a\u0430\u0445 \u0440\u0430\u0431\u043e\u0442\u044b:"})," ",ge("","lookingForAJob",[],"input",{type:"checkbox"})]}),Object(m.jsxs)("div",{children:[Object(m.jsx)("b",{children:"\u041c\u043e\u0438 \u043d\u0430\u0432\u044b\u043a\u0438:"})," ",ge("","lookingForAJobDescription",[],Oe)]}),Object(m.jsxs)("div",{children:[Object(m.jsx)("b",{children:"\u041e\u0431\u043e \u043c\u043d\u0435:"})," ",ge("","aboutMe",[],Oe)]}),Object(m.jsxs)("div",{children:[Object(m.jsx)("b",{children:"\u041a\u043e\u043d\u0442\u0430\u043a\u0442\u044b:"})," ",Object.keys(r.contacts).map((function(e){return Object(m.jsxs)("div",{children:[Object(m.jsxs)("b",{children:[e,":"]})," ",ge(e,"contacts."+e,[],"input")]})}))]})]})]})})),xe=function(e){return Object(m.jsxs)("div",{className:ce.a.discriptionBlock,children:[Object(m.jsxs)("div",{children:[Object(m.jsx)("b",{children:"Full name:"})," ",e.profile.fullName]}),Object(m.jsxs)("div",{children:[Object(m.jsx)("b",{children:"looking For A Job:"})," ",e.profile.lookingForAJob?"yes":"no"]}),e.profile.lookingForAJob&&Object(m.jsxs)("div",{children:[Object(m.jsx)("b",{children:"My professional skills:"})," ",e.profile.lookingForAJobDescription]}),Object(m.jsxs)("div",{children:[Object(m.jsx)("b",{children:"About me:"})," ",e.profile.aboutMe]}),Object(m.jsxs)("div",{children:[Object(m.jsx)("b",{children:"Contacts:"})," ",Object.keys(e.profile.contacts).map((function(t){return Object(m.jsx)(ve,{contactTitle:t,contactValue:e.profile.contacts[t]},t)}))]})]})},ve=function(e){var t=e.contactTitle,n=e.contactValue;return Object(m.jsxs)("div",{className:ce.a.contacts,children:[Object(m.jsxs)("b",{children:[t,":"]})," ",n]})},Pe=function(e){if(!e.profile)return Object(m.jsx)("div",{children:Object(m.jsx)(le,{})});return Object(m.jsxs)("div",{children:[e.isOwner&&Object(m.jsx)("div",{className:ce.a.editProfile,children:Object(m.jsxs)(O.a,{onClick:e.editMode?e.deactivateProfileEditMode:e.activateProfileEditMode,children:[" ",e.editMode?"Cancel":"Edit"]})}),Object(m.jsxs)("div",{children:[Object(m.jsx)("img",{src:e.profile.photos.large||g,className:ce.a.largeUserPhoto}),Object(m.jsx)(ue,{id:e.id,status:e.status,updateStatus:e.updateStatus,isOwner:e.isOwner}),e.isOwner&&e.editMode?Object(m.jsx)(me,{initialValues:e.profile,profile:e.profile,savePhoto:e.savePhoto,onSubmit:function(t){e.saveProfile(t)}}):Object(m.jsx)(xe,{profile:e.profile})]})]})},_e=n(23),Ce=n(20),we=function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){return Object(m.jsx)("div",{children:Object(m.jsx)(ae,{profilePage:this.props.profilePage,profile:this.props.profile,deletePost:this.props.deletePost,addPost:this.props.addPostActionCreator})})}}]),n}(a.a.Component),ye=Object(Ce.d)(Object(_e.b)((function(e){return{profilePage:e.profilePage,profile:e.profilePage.profile}}),{addPostActionCreator:function(e){return{type:G,newText:e}},deletePost:function(e){return{type:X,postID:e}}}))(we),ke=function(e){return Object(m.jsxs)("div",{className:"",children:[Object(m.jsx)(Pe,{profile:e.profile,id:e.id,status:e.status,updateStatus:e.updateStatus,isOwner:e.isOwner,savePhoto:e.savePhoto,activateProfileEditMode:e.activateProfileEditMode,deactivateProfileEditMode:e.deactivateProfileEditMode,editMode:e.editMode,saveProfile:e.saveProfile}),Object(m.jsx)(ye,{})]})},Se=n(26),Ne=function(e){return{isAuth:e.authReducer.isAuth}},Ee=function(e){var t=function(t){Object(u.a)(r,t);var n=Object(d.a)(r);function r(){return Object(o.a)(this,r),n.apply(this,arguments)}return Object(l.a)(r,[{key:"render",value:function(){return this.props.isAuth?Object(m.jsx)(e,Object(j.a)({},this.props)):Object(m.jsx)(Se.a,{to:"/login"})}}]),r}(a.a.Component);return Object(_e.b)(Ne)(t)},Ie=function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"refreshProfile",value:function(){var e=this.props.match.params.userID;e||(e=this.props.id),this.props.getProfileTh(e),this.props.getUserStatusTh(e)}},{key:"componentDidMount",value:function(){this.refreshProfile()}},{key:"componentDidUpdate",value:function(e,t,n){this.props.match.params.userID!=e.match.params.userID&&this.refreshProfile()}},{key:"render",value:function(){return Object(m.jsx)("div",{children:Object(m.jsx)(ke,Object(j.a)(Object(j.a)({},this.props),{},{profile:this.props.profile,id:this.props.id,status:this.props.status,updateStatus:this.props.updateStatusTh,isOwner:!this.props.match.params.userID,savePhoto:this.props.savePhoto,activateProfileEditMode:this.props.activateProfileEditMode,deactivateProfileEditMode:this.props.deactivateProfileEditMode,editMode:this.props.editMode,saveProfile:this.props.saveProfile,deletePost:this.props.deletePost}))})}}]),n}(a.a.Component),Ue=Object(Ce.d)(Object(_e.b)((function(e){return{profile:e.profilePage.profile,id:e.authReducer.id,status:e.profilePage.status,editMode:e.profilePage.profileEditMode}}),{setUserProfile:Q,getProfileTh:function(e){return function(){var t=Object(S.a)(k.a.mark((function t(n){var r;return k.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,A(e);case 2:r=t.sent,n(Q(r.data));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},getUserStatusTh:function(e){return function(){var t=Object(S.a)(k.a.mark((function t(n){var r;return k.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,M(e);case 2:r=t.sent,n(Z(r.data));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},updateStatusTh:function(e){return function(){var t=Object(S.a)(k.a.mark((function t(n){return k.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,D(e);case 2:0===t.sent.data.resultCode&&n(Z(e));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},savePhoto:function(e){return function(t){var n=F(e);0===n.data.resultCode&&t($(n.data.data.photos))}},activateProfileEditMode:function(){return function(e){e(ee())}},deactivateProfileEditMode:function(){return function(e){e(te())}},saveProfile:function(e){return function(t,n){t(te());var r=n().authReducer.id;if(0===R(e).data.resultCode){var s=A(r);t(Q(s.data))}}}}),Ee,Se.g)(Ie),Te=(n(360),function(e){return Object(m.jsx)("div",{children:"News"})}),Ae=n(27),Me=(n(361),function(e){return Object(m.jsx)("div",{children:"Music"})}),De=(n(362),function(e){return Object(m.jsx)("div",{children:"Settings"})}),Fe="SEND-MESSAGE",Re={dialogs:[{id:1,name:"Ruslan"},{id:2,name:"Ihor"},{id:3,name:"Diana"}],messages:[{id:1,message:"Hello world"},{id:2,message:"Yo"},{id:3,message:"Yo"},{id:3,message:"Yawawdaao"}],messageText:""},Be=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Re,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Fe:return Object(j.a)(Object(j.a)({},e),{},{messageText:"",messages:[].concat(Object(p.a)(e.messages),[{id:1,message:t.messageText}])});default:return e}},Le=n(59),ze=n.n(Le),Ge=n(154),He=n.n(Ge),Ve=function(e){var t="/dialogs/"+e.id;return Object(m.jsx)("div",{className:He.a.item,children:Object(m.jsxs)(Ae.b,{to:t,activeClassName:He.a.active,children:[" ",e.name]})})},Je=n(76),We=n.n(Je),Ye=n(6),qe=n.n(Ye),Xe=function(e){return Object(m.jsx)("div",{className:qe()(We.a.messageContainer,We.a.justifyEnd),children:Object(m.jsx)("div",{className:qe()(We.a.messageBox,We.a.backgroundBlue),children:Object(m.jsx)("p",{className:qe()(We.a.messageText,We.a.colorWhite),children:e.messages})})})},Ke=function(e){var t=Object(s.useState)(""),n=Object(b.a)(t,2),r=n[0],a=n[1],i=Object(s.useState)([{message1:""}]),c=Object(b.a)(i,2),o=c[0],l=c[1];console.log(o);var u=o.map((function(e){return Object(m.jsx)(Xe,{messages:e.message1})})),d=(e.messagesPage.dialogs.map((function(e){return Object(m.jsx)(Ve,{name:e.name,activeClassName:ze.a.active,id:e.id})})),function(){a("")});return Object(m.jsx)("div",{className:ze.a.outerContainer,children:Object(m.jsxs)("div",{className:ze.a.container,children:[Object(m.jsx)("div",{className:ze.a.messages,children:u}),Object(m.jsx)("div",{className:ze.a.messageInput,children:Object(m.jsxs)("form",{className:ze.a.form,children:[Object(m.jsx)("input",{className:ze.a.input,placeholder:"\u0421\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0435 . . .",value:r,type:"text",onKeyPress:function(e){return"Enter"===e.key?l([].concat(Object(p.a)(o),[{message1:r}]))||d:null},onChange:function(e){return a(e.target.value)}}),Object(m.jsx)("div",{children:Object(m.jsx)("button",{className:ze.a.sendButton,onClick:function(e){return l([].concat(Object(p.a)(o),[{message1:r}]))||d},children:"Send"})})]})})]})})},Qe=function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){return Object(m.jsx)("div",{children:Object(m.jsx)(Ke,{messagesPage:this.props.messagesPage,sendMessage:this.props.sendMessageActionCreator})})}}]),n}(a.a.Component),Ze=Object(Ce.d)(Object(_e.b)((function(e){return{messagesPage:e.messagesPage}}),{sendMessageActionCreator:function(e){return{type:Fe,messageText:e}}}))(Qe),$e=n(43),et=n.n($e),tt=function(e){return Object(m.jsx)("div",{className:et.a.navbar,children:Object(m.jsxs)("nav",{className:et.a.nav,children:[Object(m.jsx)("div",{className:et.a.item,children:Object(m.jsx)(Ae.b,{to:"/news",activeClassName:et.a.active,children:" \u041d\u043e\u0432\u043e\u0441\u0442\u0438"})}),Object(m.jsx)("div",{className:et.a.item,children:Object(m.jsx)(Ae.b,{to:"/music",activeClassName:et.a.active,children:"\u041c\u0443\u0437\u044b\u043a\u0430"})}),Object(m.jsx)("div",{className:et.a.item,children:Object(m.jsx)(Ae.b,{to:"/settings",activeClassName:et.a.active,children:" \u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438"})})]})})},nt=(Object(_e.b)((function(e){return{sidebar:e.sidebar}}),(function(){return{}}))(tt),n(70)),rt="FOLLOW",st="UNFOLLOW",at="SET_USERS",it="SET_CURRENT_PAGE",ct="SET_USERS_TOTAL_COUNT",ot="TOGGLE_IS_FETCHING",lt="TOGGLE_IS_FOLLOWING_IN_PROGRESS",ut={users:[],pageSize:10,totalUsersCount:0,currentPage:1,isFetching:!1,followingInProgress:[]},dt=function(e){return{type:rt,userID:e}},jt=function(e){return{type:st,userID:e}},pt=function(e){return{type:it,currentPage:e}},bt=function(e){return{type:ot,isFetching:e}},ht=function(e,t){return{type:lt,isFollowing:e,userId:t}},ft=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ut,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case rt:return Object(j.a)(Object(j.a)({},e),{},{users:e.users.map((function(e){return e.id===t.userID?Object(j.a)(Object(j.a)({},e),{},{followed:!0}):e}))});case st:return Object(j.a)(Object(j.a)({},e),{},{users:e.users.map((function(e){return e.id===t.userID?Object(j.a)(Object(j.a)({},e),{},{followed:!1}):e}))});case at:return Object(j.a)(Object(j.a)({},e),{},{users:t.users});case it:return Object(j.a)(Object(j.a)({},e),{},{currentPage:t.currentPage});case ct:return Object(j.a)(Object(j.a)({},e),{},{totalUsersCount:t.count});case ot:return Object(j.a)(Object(j.a)({},e),{},{isFetching:t.isFetching});case lt:return Object(j.a)(Object(j.a)({},e),{},{followingInProgress:t.isFollowing?[].concat(Object(p.a)(e.followingInProgress),[t.userId]):e.followingInProgress.filter((function(e){return e!=t.userId}))});default:return e}},Ot=n(155),gt=n.n(Ot),mt=n(127),xt=n.n(mt),vt=function(e){for(var t=e.totalItemsCount,n=e.portionSize,r=e.currentPage,a=e.onPageChange,i=Math.ceil(t/n),c=[],o=1;o<=i;o++)c.push(o);var l=Math.ceil(i/n),u=Object(s.useState)(1),d=Object(b.a)(u,2),j=d[0],p=d[1],h=(j-1)*n+1,f=j*n;return Object(m.jsx)(m.Fragment,{children:Object(m.jsxs)("div",{className:xt.a.paginator,children:[j>1&&Object(m.jsx)(O.a,{onClick:function(){p(1)},children:"First"}),j>1&&Object(m.jsx)(O.a,{onClick:function(){p(j-1)},children:"Previous"}),c.filter((function(e){return e>=h&&e<=f})).map((function(e){return Object(m.jsx)(O.a,{className:qe()(Object(nt.a)({},xt.a.selectedPage,r===e),xt.a.pageNumber),onClick:function(t){a(e)},children:e},e)})),l>j&&Object(m.jsx)(O.a,{onClick:function(){p(j+1)},children:"Next"}),l>j&&Object(m.jsx)(O.a,{onClick:function(){p(l)},children:"Last"})]})})},Pt=(n(145),function(e){return Object(m.jsxs)("div",{children:[Object(m.jsx)("div",{children:Object(m.jsx)(vt,{totalItemsCount:e.totalUsersCount,onPageChange:e.onPageChange,currentPage:e.currentPage,portionSize:e.pageSize})}),e.users.map((function(t){return Object(m.jsxs)("div",{children:[Object(m.jsxs)("span",{children:[Object(m.jsx)("div",{children:Object(m.jsx)(Ae.b,{to:"/profile/"+t.id,children:Object(m.jsx)("img",{src:null!=t.photos.small?t.photos.small:g,className:gt.a.userPhoto})})}),Object(m.jsx)("div",{className:gt.a.followButton,children:t.followed?Object(m.jsx)(O.a,{type:"primary",size:"middle",disabled:e.followingInProgress.some((function(e){return e===t.id})),onClick:function(){e.unfollow(t.id)},children:" Unfollow "}):Object(m.jsx)(O.a,{type:"primary",size:"middle",disabled:e.followingInProgress.some((function(e){return e===t.id})),onClick:function(){e.follow(t.id)},children:"Follow"})})]}),Object(m.jsx)("span",{children:Object(m.jsxs)("span",{children:[Object(m.jsx)("div",{children:t.name}),Object(m.jsx)("div",{children:t.status})]})})]},t.id)}))]})}),_t=n(201),Ct=Object(_t.a)((function(e){return e.usersPage.users}),(function(e){return e})),wt=function(e){return e.usersPage.pageSize},yt=function(e){return e.usersPage.totalUsersCount},kt=function(e){return e.usersPage.currentPage},St=function(e){return e.usersPage.isFetching},Nt=function(e){return e.usersPage.followingInProgress},Et=function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(o.a)(this,n);for(var r=arguments.length,s=new Array(r),a=0;a<r;a++)s[a]=arguments[a];return(e=t.call.apply(t,[this].concat(s))).onPageChange=function(t){e.props.getUsersTh(t,e.props.pageSize)},e}return Object(l.a)(n,[{key:"componentDidMount",value:function(){this.props.getUsersTh(this.props.currentPage,this.props.pageSize)}},{key:"render",value:function(){var e;return Object(m.jsxs)(m.Fragment,{children:[this.props.isFetching?Object(m.jsx)(le,{}):null,Object(m.jsx)(Pt,(e={totalUsersCount:this.props.totalUsersCount,pageSize:this.props.pageSize,currentPage:this.props.currentPage,onPageChange:this.onPageChange,follow:this.props.follow,unfollow:this.props.unfollow,users:this.props.users,isFetching:this.props.isFetching,followingInProgress:this.props.followingInProgress,toggleFollowingInProgress:this.props.toggleFollowingInProgress},Object(nt.a)(e,"unfollow",this.props.unfollowTh),Object(nt.a)(e,"follow",this.props.followTh),e))]})}}]),n}(a.a.Component),It=Object(Ce.d)(Ee,Object(_e.b)((function(e){return{users:Ct(e),pageSize:wt(e),totalUsersCount:yt(e),currentPage:kt(e),isFetching:St(e),followingInProgress:Nt(e)}}),{follow:dt,unfollow:jt,setCurrentPage:pt,getUsersTh:function(e,t){return function(n){n(bt(!0)),n(pt(e)),I(e,t).then((function(e){var t,r;n(bt(!1)),n((t=e.items,{type:at,users:t})),n((r=e.totalCount,{type:ct,count:r}))}))}},unfollowTh:function(e){return function(t){t(ht(!0,e)),U(e).then((function(n){0==n.data.resultCode&&t(jt(e)),t(ht(!1,e))}))}},followTh:function(e){return function(t){t(ht(!0,e)),T(e).then((function(n){0==n.data.resultCode&&t(dt(e)),t(ht(!1,e))}))}}}))(Et),Ut=n(156),Tt=n.n(Ut),At=n(371),Mt=function(e){return Object(m.jsxs)("header",{className:Tt.a.header,children:[Object(m.jsx)("img",{src:"https://logoza.ru/img/rock.png"}),Object(m.jsx)("div",{className:Tt.a.loginBlock,children:e.isAuth?Object(m.jsxs)("div",{children:[" ",e.login," - ",Object(m.jsx)(At.a,{onClick:e.logout,children:"Log out"})]}):Object(m.jsx)(Ae.b,{to:"/login",children:"Login"})})]})},Dt=n(68),Ft="SET_USER_DATA",Rt="SET_AUTH_PROFILE",Bt="GET_CAPTCHA_URL",Lt={id:null,login:null,email:null,isAuth:!1,isFetching:!1,authUserProfile:null,captchaUrl:null},zt=function(e,t,n,r){return{type:Ft,payload:{id:e,login:t,email:n,isAuth:r}}},Gt=function(e){return{type:Ft,payload:{captchaUrl:e}}},Ht=function(){return function(){var e=Object(S.a)(k.a.mark((function e(t){var n,r,s,a,i;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E.get("auth/me");case 2:0===(n=e.sent).data.resultCode&&(r=n.data.data,s=r.id,a=r.login,i=r.email,t(zt(s,a,i,!0)));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},Vt=function(){return function(){var e=Object(S.a)(k.a.mark((function e(t){var n,r;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,z();case 2:n=e.sent,r=n.data.url,t(Gt(r));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},Jt=function(){return function(){var e=Object(S.a)(k.a.mark((function e(t){return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,L();case 2:0===e.sent.data.resultCode&&t(zt(null,null,null,!1));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},Wt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Lt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ft:return Object(j.a)(Object(j.a)(Object(j.a)({},e),t.payload),t.payload.isAuth);case Rt:return Object(j.a)(Object(j.a)({},e),{},{authUserProfile:t.authProfile});case Bt:return Object(j.a)(Object(j.a)(Object(j.a)({},e),t.payload),{},{captchaUrl:t.payload.captchaUrl});default:return e}},Yt=function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){return Object(m.jsx)(Mt,Object(j.a)({},this.props))}}]),n}(a.a.Component),qt=(Object(_e.b)((function(e){return{login:e.authReducer.login,isAuth:e.authReducer.isAuth,authUserProfile:e.authReducer.authUserProfile}}),{logout:Jt})(Yt),n(370)),Xt=function(e){return Object(m.jsx)("div",{children:Object(m.jsxs)(w.a,{name:"basic",labelCol:{span:3},wrapperCol:{span:10},initialValues:{remember:!0},onFinish:e.onSubmit,children:[Object(m.jsx)(w.a.Item,{label:"Username",name:"username",rules:[{required:!0,message:"Please input your username!"}],children:Object(m.jsx)(C.a,{})}),Object(m.jsx)(w.a.Item,{label:"Password",name:"password",rules:[{required:!0,message:"Please input your password!"}],children:Object(m.jsx)(C.a.Password,{})}),Object(m.jsx)(w.a.Item,{name:"remember",valuePropName:"checked",wrapperCol:{offset:8,span:16},children:Object(m.jsx)(qt.a,{children:"Remember me"})}),e.captchaUrl&&Object(m.jsx)(w.a.Item,{wrapperCol:{offset:8,span:16},children:Object(m.jsx)("img",{src:e.captchaUrl})}),e.captchaUrl&&Object(m.jsx)(w.a.Item,{label:"captcha",name:"captcha",rules:[{required:!0,message:"Please input Captcha!"}],children:Object(m.jsx)(C.a,{})}),Object(m.jsx)(w.a.Item,{wrapperCol:{offset:8,span:16},children:Object(m.jsx)(O.a,{type:"primary",htmlType:"submit",children:"Submit"})})]})})},Kt=function(e){return e.isAuth?Object(m.jsx)(Se.a,{to:"/profile"}):Object(m.jsxs)("div",{children:[Object(m.jsx)("h1",{children:"Login"}),Object(m.jsx)(Xt,{onSubmit:function(t){e.login(t.username,t.password,t.remember,t.captcha)},captchaUrl:e.captchaUrl})]})},Qt=function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){return Object(m.jsx)("div",{children:Object(m.jsx)(Kt,{login:this.props.login,isAuth:this.props.isAuth,captchaUrl:this.props.captchaUrl})})}}]),n}(a.a.Component),Zt=Object(Ce.d)(Object(_e.b)((function(e){return{isAuth:e.authReducer.isAuth,captchaUrl:e.authReducer.captchaUrl}}),{login:function(e,t,n,r){return function(){var s=Object(S.a)(k.a.mark((function s(a){var i,c;return k.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,B(e,t,n,r);case 2:0===(i=s.sent).data.resultCode?a(Ht()):10===i.data.resultCode?a(Vt()):(c=i.data.messages.length>0?i.data.messages[0]:"Some error",a(Object(Dt.a)("login",{_error:c})));case 4:case"end":return s.stop()}}),s)})));return function(e){return s.apply(this,arguments)}}()}}))(Qt),$t="INITIALIZED_SUCCESS",en={initialized:!1},tn=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:en,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case $t:return Object(j.a)(Object(j.a)({},e),{},{initialized:!0});default:return e}},nn=n(366),rn=n(369),sn=n(373),an=n(374),cn=n(375),on=n(376),ln=n(377),un=nn.a.Header,dn=nn.a.Sider,jn=nn.a.Content,pn=function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(o.a)(this,n);for(var r=arguments.length,s=new Array(r),a=0;a<r;a++)s[a]=arguments[a];return(e=t.call.apply(t,[this].concat(s))).state={collapsed:!1,size:"large"},e.toggle=function(){e.setState({collapsed:!e.state.collapsed})},e.catchAllUnhandledError=function(){alert("Some Error")},e}return Object(l.a)(n,[{key:"componentDidMount",value:function(){this.props.initializeApp(),window.addEventListener("unhandledrejection",this.catchAllUnhandledError)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("unhandledrejection",this.catchAllUnhandledError)}},{key:"render",value:function(){this.state.size;return this.props.initialized?Object(m.jsx)(m.Fragment,{children:Object(m.jsxs)(nn.a,{children:[Object(m.jsxs)(dn,{trigger:null,collapsible:!0,collapsed:this.state.collapsed,children:[Object(m.jsx)("div",{className:"logo"}),Object(m.jsxs)(rn.a,{theme:"dark",mode:"inline",defaultSelectedKeys:["1"],children:[Object(m.jsx)(rn.a.Item,{icon:Object(m.jsx)(sn.a,{}),children:Object(m.jsx)(Ae.b,{to:"/profile",activeClassName:et.a.active,children:"\u041f\u0440\u043e\u0444\u0438\u043b\u044c"})},"1"),Object(m.jsx)(rn.a.Item,{icon:Object(m.jsx)(an.a,{}),children:Object(m.jsx)(Ae.b,{to:"/dialogs",activeClassName:et.a.active,children:"\u0421\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u044f"})},"2"),Object(m.jsx)(rn.a.Item,{icon:Object(m.jsx)(cn.a,{}),children:Object(m.jsx)(Ae.b,{to:"/users",activeClassName:et.a.active,children:" \u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0438"})},"3")]})]}),Object(m.jsxs)(nn.a,{className:"site-layout",children:[Object(m.jsxs)(un,{className:"site-layout-background",style:{padding:0},children:[Object(m.jsxs)("div",{className:"auth-block",children:[" ",this.props.isAuth?Object(m.jsxs)("div",{children:[" ",this.props.login," - ",Object(m.jsx)(O.a,{onClick:this.props.logout,children:"Logout"})]}):Object(m.jsx)(Ae.b,{to:"/login",children:"Login"})]}),a.a.createElement(this.state.collapsed?on.a:ln.a,{className:"trigger",onClick:this.toggle})]}),Object(m.jsx)(jn,{className:"site-layout-background",style:{margin:"24px 16px",padding:24,minHeight:280},children:Object(m.jsxs)(Se.d,{children:[Object(m.jsx)(Se.b,{path:"/",exact:!0,children:Object(m.jsx)(Se.a,{to:"/profile"})}),Object(m.jsx)(Se.b,{path:"/dialogs",render:function(){return Object(m.jsx)(Ze,{})}}),Object(m.jsx)(Se.b,{path:"/profile/:userID?",render:function(){return Object(m.jsx)(Ue,{})}}),Object(m.jsx)(Se.b,{path:"/news",render:function(){return Object(m.jsx)(Te,{})}}),Object(m.jsx)(Se.b,{path:"/music",render:function(){return Object(m.jsx)(Me,{})}}),Object(m.jsx)(Se.b,{path:"/settings",render:function(){return Object(m.jsx)(De,{})}}),Object(m.jsx)(Se.b,{path:"/users",render:function(){return Object(m.jsx)(It,{})}}),Object(m.jsx)(Se.b,{path:"/login",render:function(){return Object(m.jsx)(Zt,{})}}),Object(m.jsx)(Se.b,{path:"*",render:function(){return Object(m.jsx)("div",{children:"404 NOT FOUND"})}})]})})]})]})}):Object(m.jsx)(le,{})}}]),n}(a.a.Component),bn=Object(Ce.d)(Se.g,Object(_e.b)((function(e){return{initialized:e.app.initialized,login:e.authReducer.login,isAuth:e.authReducer.isAuth,authUserProfile:e.authReducer.authUserProfile}}),{initializeApp:function(){return function(e){e(Ht()).then((function(){e({type:$t})}))}},logout:Jt}))(pn),hn={friendName:[{friendsName:"Diana"},{friendsName:"Ihor"},{friendsName:"Ruslan"}]},fn=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:hn;return e},On=n(202),gn=n(190),mn=Object(Ce.c)({profilePage:ne,messagesPage:Be,sidebar:fn,usersPage:ft,authReducer:Wt,app:tn,form:gn.a}),xn=Object(Ce.e)(mn,Object(Ce.a)(On.a));window.store=xn;var vn=xn;Object(_.a)(c.a.render(Object(m.jsx)(Ae.a,{children:Object(m.jsx)(_e.a,{store:vn,children:Object(m.jsx)(bn,{})})}),document.getElementById("root")))},43:function(e,t,n){e.exports={nav:"Navbar_nav__1BCBQ",item:"Navbar_item__3RZJI",active:"Navbar_active__3bnlt",navbar:"Navbar_navbar__2QnsP"}},59:function(e,t,n){e.exports={outerContainer:"Dialogs_outerContainer__27pNM",container:"Dialogs_container__URaYG",messages:"Dialogs_messages__3tDVN",form:"Dialogs_form__2tbH1",input:"Dialogs_input__1C3Of",sendButton:"Dialogs_sendButton__1D55q",messageInput:"Dialogs_messageInput__1AE57"}},74:function(e,t,n){e.exports={discriptionBlock:"ProfileInfo_discriptionBlock__18aui",largeUserPhoto:"ProfileInfo_largeUserPhoto__2cOi9",photoUpload:"ProfileInfo_photoUpload__oxH0y",editProfile:"ProfileInfo_editProfile__3Q2Nj",contacts:"ProfileInfo_contacts___CT2U"}},76:function(e,t,n){e.exports={messageBox:"Message_messageBox__4LClL",messageText:"Message_messageText__39AmX",messageContainer:"Message_messageContainer__2UX_c",justifyEnd:"Message_justifyEnd__2dXGz",colorWhite:"Message_colorWhite__1GeUd",backgroundBlue:"Message_backgroundBlue__IEBpt"}}},[[363,1,2]]]);
//# sourceMappingURL=main.b68f9e69.chunk.js.map