{"version":3,"sources":["Components/Common/Paginator.module.css","Components/Profile/MyPosts/Post/Post.module.css","Components/Profile/MyPosts/MyPosts.module.css","Components/Common/FormControls.module.css","Components/Dialogs/Dialog/Dialog.module.css","Components/Users/Users.module.css","Components/Header/Header.module.css","Components/Dialogs/Message/Message.module.css","img/1.png","Components/Profile/MyPosts/Post/Post.jsx","utilits/validators/validators.js","Components/Profile/MyPosts/MyPosts.jsx","img/Curve-Loading.gif","Components/Common/Preloader.jsx","Components/Profile/MyPosts/ProfileInfo/ProfileStatusWithHooks.jsx","Components/Common/FormControls.js","Components/Profile/MyPosts/ProfileInfo/ProfileDataForm.jsx","Components/Profile/MyPosts/ProfileInfo/ProfileInfo.jsx","API/API.js","Redux/profile-reducer.js","Components/Profile/MyPosts/MyPostsContainer.jsx","Components/Profile/Profile.jsx","HOC/WithAuthRedirect.jsx","Components/Profile/ProfileContainer.jsx","Components/News/News.js","Components/Music/Music.js","Components/Settings/Settings.js","Redux/messages-reducer.js","Components/Dialogs/Dialog/Dialog.js","Components/Dialogs/Message/Message.js","Components/Dialogs/Dialogs.js","Components/Dialogs/DialogsContainer.js","Components/Navbar/Navbar.jsx","Components/Navbar/NavbarContainer.jsx","Redux/users-reducer.js","Components/Common/Paginator.jsx","Components/Users/Users.js","Redux/users-selectors.js","Components/Users/UsersContainer.jsx","Components/Header/Header.jsx","Redux/auth-reducer.js","Components/Header/HeaderContainer.jsx","Components/Login/Login.jsx","Components/Login/LoginContainer.jsx","Redux/app-reducer.js","App.js","Redux/sidebar-reducer.js","Redux/redux-store.js","index.js","Components/Navbar/Navbar.module.css","Components/Profile/MyPosts/ProfileInfo/ProfileInfo.module.css","Components/Dialogs/Dialogs.module.css"],"names":["module","exports","Post","props","profile","className","s","item","src","photos","small","userPhoto","message","like","onClick","icon","LikeOutlined","required","value","maxLengthCreator","maxLength","length","layout","labelCol","span","wrapperCol","AddPostReduxForm","Input","TextArea","reduxForm","form","name","onFinish","onSubmit","Item","size","offset","type","htmlType","MyPosts","React","memo","console","log","posts","profilePage","reverse","map","post","text","likesCount","dispatch","postsBlock","formData","postText","addPost","Preloader","preloader","ProfileStatusWithHooks","useState","editMode","setEditMode","status","setStatus","useEffect","onDoubleClick","isOwner","autoFocus","onBlur","updateStatus","onChange","e","currentTarget","FormControl","input","meta","child","hasError","error","touched","styles","formControl","children","Textarea","restProps","createField","placeholder","validators","component","Field","validate","ProfileDataReduxForm","handleSubmit","photoUpload","UploadOutlined","target","files","savePhoto","Object","keys","contacts","key","ProfileData","discriptionBlock","fullName","lookingForAJob","lookingForAJobDescription","aboutMe","contactTitle","contactValue","Contacts","ProfileInfo","editProfile","deactivateProfileEditMode","activateProfileEditMode","large","largeUserPhoto","id","initialValues","saveProfile","instance","axios","create","withCredentials","baseURL","headers","userAPI","currentPage","pageSize","get","then","response","data","delete","profileAPI","userId","put","photo","FormData","append","loginAPI","email","password","rememberMe","ADD_POST","SET_USER_PROFILE","SET_USER_STATUS","STATUS_UPDATE","SAVE_PHOTO_SUCCESS","ACTIVATE_EDIT_MODE","DEACTIVATE_EDIT_MODE","initialState","profileEditMode","setUserProfile","setUserStatus","savePhotoSuccess","editModeOn","editModeOff","profileReducer","state","action","newText","statusInProgress","isUpdate","MyPostsContainer","connect","addPostActionCreator","Profile","mapStateToPropsRedirect","isAuth","authReducer","withAuthRedirect","Component","RedirectComponent","this","to","ProfileContainer","userID","match","params","getProfileTh","getUserStatusTh","refreshProfile","prevProps","prevState","snapshot","updateStatusTh","compose","resultCode","getState","withRouter","News","Music","Settings","SEND_MESSAGE","dialogs","messages","messagesReducer","messageText","Dialog","path","activeClassName","active","Message","maxLength50","MessageReduxForm","Dialogs","messagesPage","el","dialog","dialogsItem","sendMessage","sendMessageActionCreator","Navbar","navbar","nav","sidebar","FOLLOW","UNFOLLOW","SET_USERS","SET_CURRENT_PAGE","SET_USERS_TOTAL_COUNT","TOGGLE_IS_FETCHING","TOGGLE_IS_FOLLOWING_IN_PROGRESS","users","totalUsersCount","isFetching","followingInProgress","follow","unfollow","setCurrentPage","toggleIsFetching","toggleFollowingInProgress","isFollowing","usersReducer","u","followed","count","filter","Paginator","totalItemsCount","portionSize","onPageChange","pagesCount","Math","ceil","pages","i","push","portionCount","portionNumber","setPortionNumber","leftPortionNumber","rightPortionNumber","paginator","p","cn","selectedPage","pageNumber","Users","followButton","disabled","some","getUsersSuperSelector","createSelector","usersPage","getPageSize","getTotalUsersCount","getCurrentPage","getIsFetching","getFollowingInProgress","UsersAPI","getUsersTh","unfollowTh","followTh","totalCount","items","Header","header","loginBlock","login","Button","logout","SET_USER_DATA","SET_AUTH_PROFILE","authUserProfile","setAuthUserData","payload","authMeTh","a","authProfile","HeaderContainer","LoginForm","remember","label","rules","Password","valuePropName","Login","values","username","LoginContainer","stopSubmit","_error","INITIALIZED_SUCCESS","initialized","appReducer","Layout","Sider","Content","App","collapsed","toggle","setState","catchAllUnhandledError","alert","initializeApp","window","addEventListener","removeEventListener","trigger","collapsible","theme","mode","defaultSelectedKeys","UserOutlined","FormOutlined","TeamOutlined","style","padding","createElement","MenuUnfoldOutlined","MenuFoldOutlined","margin","minHeight","exact","render","DialogsContainer","UsersContainer","app","friendName","friendsName","sidebarReducer","redusers","combineReducers","formReducer","store","createStore","applyMiddleware","thunkMiddlware","ReactDOM","document","getElementById"],"mappings":"2GACAA,EAAOC,QAAU,CAAC,UAAY,6BAA6B,WAAa,8BAA8B,aAAe,kC,oBCArHD,EAAOC,QAAU,CAAC,KAAO,qB,oBCAzBD,EAAOC,QAAU,CAAC,WAAa,4BAA4B,MAAQ,yB,oBCAnED,EAAOC,QAAU,CAAC,YAAc,kCAAkC,MAAQ,4BAA4B,iBAAmB,yC,oBCAzHD,EAAOC,QAAU,CAAC,KAAO,qBAAqB,OAAS,yB,oBCAvDD,EAAOC,QAAU,CAAC,UAAY,yBAAyB,aAAe,8B,oBCAtED,EAAOC,QAAU,CAAC,OAAS,uBAAuB,WAAa,6B,oBCA/DD,EAAOC,QAAU,CAAC,KAAO,wB,sTCDV,MAA0B,8B,OC2B1BC,EArBF,SAACC,GAKV,OAAKA,EAAMC,QAIP,sBAAKC,UAAWC,IAAEC,KAAlB,UACI,qBAAKC,IAAKL,EAAMC,QAAQK,OAAOC,OAASC,EAAWN,UAAWC,IAAEK,YAC/DR,EAAMS,QACP,8BACI,yCAAYT,EAAMU,UAEtB,8BAAK,cAAC,IAAD,CAAQC,QAbP,aAayBC,KAAM,cAACC,EAAA,EAAD,WATlC,M,2BCZFC,EAAW,SAAAC,GACpB,IAAIA,EAEJ,MAAO,qBAIEC,EAAmB,SAACC,GAAD,OAAe,SAACF,GAC5C,GAAIA,EAAMG,OAASD,EAAW,MAAM,iBAAN,OAAwBA,EAAxB,c,kBCA5BE,EAAS,CACXC,SAAU,CACNC,KAAM,GAEVC,WAAY,CACRD,KAAM,KAmBRE,GAhBaC,IAAZC,SACcT,EAAiB,KAebU,YAAU,CAC/BC,KAAM,WADeD,EAbL,SAAC1B,GACjB,OAAO,eAAC,IAAD,2BAAUmB,GAAV,IAAkBS,KAAK,gBAAgBC,SAAU7B,EAAM8B,SAAvD,UACH,cAAC,IAAKC,KAAN,CAAWH,KAAK,OAAOI,KAAK,QAA5B,SACI,cAAC,IAAMP,SAAP,MAEJ,cAAC,IAAKM,KAAN,CAAWT,WAAU,2BAAMH,EAAOG,YAAb,IAAyBW,OAAQ,EAClDZ,KAAM,MADV,SAEI,cAAC,IAAD,CAAQa,KAAK,UAAUC,SAAS,SAAhC,8EAUNC,EAAUC,IAAMC,MAAK,SAAAtC,GACvBuC,QAAQC,IAAI,UACZ,IAAIC,EAAQ,YAAIzC,EAAM0C,YAAYD,OAC7BE,UACAC,KAAI,SAAAC,GAAI,OAAK,cAAC,EAAD,CAAMpC,QAASoC,EAAKC,KACdpC,KAAMmC,EAAKE,WAAYC,SAAUhD,EAAMgD,SACvC/C,QAASD,EAAMC,aACvC,IAAKD,EAAMC,QACP,OAAO,KAOX,OACI,sBAAKC,UAAWC,IAAE8C,WAAlB,UACI,0CACA,cAAC1B,EAAD,CAAkBO,SART,SAACoB,GACd,IAAIC,EAAWD,EAASL,KACxB7C,EAAMoD,QAAQD,GACdD,EAASL,KAAO,QAOZ,qBAAK3C,UAAWC,IAAEsC,MAAlB,SACKA,UAOFL,I,0BChEA,MAA0B,0CCU1BiB,EANG,WACd,OAAO,8BACH,qBAAKhD,IAAKiD,O,QCqCHC,EAzCgB,SAACvD,GAE5B,MAA8BwD,oBAAS,GAAvC,mBAAKC,EAAL,KAAeC,EAAf,KACA,EAA0BF,mBAASxD,EAAM2D,QAAzC,mBAAKA,EAAL,KAAaC,EAAb,KAEAC,qBAAU,WACND,EAAU5D,EAAM2D,UAClB,CAAC3D,EAAM2D,SAYT,OAEI,iCAEMF,GACF,gCACI,2CACA,sBAAMK,cAdO,WACjB9D,EAAM+D,SAAWL,GAAY,IAazB,SAAwC1D,EAAM2D,QAAU,cAG3DF,GACD,8BACI,uBAAOO,WAAW,EAAMC,OAhBT,WACvBP,GAAY,GACZ1D,EAAMkE,aAAaP,IAcyCQ,SAvBzC,SAACC,GACpBR,EAAUQ,EAAEC,cAActD,QAuBXA,MAAO4C,U,6CC9BjBW,EAAc,SAAC,GAAmC,EAAlCC,MAAmC,IAA5BC,EAA2B,EAA3BA,KAAgBxE,GAAW,EAArByE,MAAqB,yCACrDC,EAAWF,EAAKG,OAASH,EAAKI,QACpC,OACI,sBAAK1E,UAAW2E,IAAOC,YAAc,KAAOJ,EAAWG,IAAOF,MAAQ,KAAtE,UACI,8BAAM3E,EAAM+E,WACZ,8BACKL,GAAY,+BAAOF,EAAKG,cAM5BK,EAAW,SAAChF,GACrB,IAAOuE,EAAoCvE,EAApCuE,MAAuBU,GAAajF,EAA7BwE,KAA6BxE,EAAvByE,MAApB,YAA2CzE,EAA3C,2BACA,OAAO,cAAC,EAAD,2BAAgBA,GAAhB,aAAuB,oDAAcuE,GAAUU,QAM7CC,EAAc,SAACC,EAAavD,EAAMwD,EAAYC,GAAhC,IAA2CrF,EAA3C,uDAAmD,GAAI8C,EAAvD,uDAA8D,GAA9D,OACvB,gCACI,cAACwC,EAAA,EAAD,aAAOH,YAAaA,EAAavD,KAAMA,EAChC2D,SAAUH,EAAYC,UAAWA,GAC7BrF,IAHf,IAIQ8C,MCmBG0C,EADc9D,YAAU,CAACC,KAAM,gBAAjBD,EAxCL,SAAC,GAAoC,IAAnC+D,EAAkC,EAAlCA,aAAczF,EAAoB,EAApBA,MAAOC,EAAa,EAAbA,QAM3C,OAAO,gCACH,qBAAKC,UAAWC,IAAEuF,YAAlB,SAA+B,cAAC,IAAD,CAAO9E,KAAM,cAAC+E,EAAA,EAAD,IAAmBzD,KAAM,OAC/BiC,SAPd,SAACC,GACrBA,EAAEwB,OAAOC,MAAM3E,QACflB,EAAM8F,UAAU1B,EAAEwB,OAAOC,MAAM,SAMnC,uBAAM/D,SAAU2D,EAAhB,UACI,8BACI,wBAAQ9E,QAAS,aAAjB,oBAIJ,gCACI,2CADJ,IACuBuE,EAAY,YAAa,WAAY,GAAI,YAEhE,gCACI,wHADJ,IAC8BA,EAAY,GAAI,iBAAkB,GAAI,QAAS,CAAChD,KAAM,gBAEpF,gCACI,yFADJ,IACwBgD,EAAY,GAAI,4BAA6B,GAAIF,MAEzE,gCACI,uEADJ,IACqBE,EAAY,GAAI,UAAW,GAAIF,MAGpD,gCACI,kFADJ,IACsBe,OAAOC,KAAK/F,EAAQgG,UAAUrD,KAAI,SAAAsD,GACpD,OAAO,gCACH,8BAAIA,EAAJ,OADG,IACYhB,EAAYgB,EAAK,YAAcA,EAAK,GAAI,2BCcrEC,EAAc,SAACnG,GACjB,OAAO,sBAAKE,UAAWC,IAAEiG,iBAAlB,UACH,gCACI,2CADJ,IACuBpG,EAAMC,QAAQoG,YAErC,gCACI,mDADJ,IAC+BrG,EAAMC,QAAQqG,eAAiB,MAAQ,QAErEtG,EAAMC,QAAQqG,gBACf,gCACI,wDADJ,IACoCtG,EAAMC,QAAQsG,6BAGlD,gCACI,0CADJ,IACsBvG,EAAMC,QAAQuG,WAEpC,gCACI,0CADJ,IACsBT,OAAOC,KAAKhG,EAAMC,QAAQgG,UAAUrD,KAAI,SAAAsD,GAC1D,OAAO,cAAC,EAAD,CAAoBO,aAAcP,EAAKQ,aAAc1G,EAAMC,QAAQgG,SAASC,IAA7DA,aAO5BS,EAAW,SAAC,GAAkC,IAAjCF,EAAgC,EAAhCA,aAAcC,EAAkB,EAAlBA,aAC7B,OAAO,sBAAKxG,UAAWC,IAAE8F,SAAlB,UACH,8BAAIQ,EAAJ,OADG,IACqBC,MAKjBE,EAzEK,SAAC5G,GACjB,IAAKA,EAAMC,QACP,OAAO,8BACH,cAAC,EAAD,MAaR,OACI,gCACKD,EAAM+D,SACP,qBAAK7D,UAAWC,IAAE0G,YAAlB,SACI,eAAC,IAAD,CAAQlG,QAbZX,EAAMyD,SACCzD,EAAM8G,0BAEV9G,EAAM+G,wBAUL,cAAiC/G,EAAMyD,SAAW,SAAW,YAGjE,gCACI,qBACIpD,IAAKL,EAAMC,QAAQK,OAAO0G,OAASxG,EACnCN,UAAWC,IAAE8G,iBACjB,cAAC,EAAD,CAAwBC,GAAIlH,EAAMkH,GAAIvD,OAAQ3D,EAAM2D,OAAQO,aAAclE,EAAMkE,aACxDH,QAAS/D,EAAM+D,UAEtC/D,EAAM+D,SAAW/D,EAAMyD,SACpB,cAAC,EAAD,CAAsB0D,cAAenH,EAAMC,QAASA,QAASD,EAAMC,QAAS6F,UAAW9F,EAAM8F,UAAWhE,SAnBvG,SAACoB,GACdlD,EAAMoH,YAAYlE,MAmBN,cAAC,EAAD,CAAajD,QAASD,EAAMC,iB,SCxC1CoH,E,OAAWC,EAAMC,OAAO,CAC1BC,iBAAiB,EACjBC,QAAS,gDACTC,QAAa,CACT,UAAW,0CAMNC,EAAU,SACVC,EAAaC,GAClB,OAAOR,EAASS,IAAT,qBAA2BF,EAA3B,mBAAiDC,IACnDE,MAAK,SAAAC,GAAQ,OAAIA,EAASC,SAH1BN,EAAU,SAMVT,GACL,OAAOG,EAASa,OAAT,iBAA0BhB,KAP5BS,EAAU,SASZT,GACH,OAAOG,EAASxE,KAAT,iBAAwBqE,KAG1BiB,GAAa,SACXC,GACP,OAAOf,EAASS,IAAI,WAAaM,IAF5BD,GAAa,SAIZC,GACN,OAAOf,EAASS,IAAI,kBAAoBM,IALnCD,GAAa,SAOTxE,GACT,OAAO0D,EAASgB,IAAT,iBAA+B,CAAC1E,OAAQA,KAR1CwE,GAAa,SAUZG,GACN,IAAIpF,EAAW,IAAIqF,SAEnB,OADArF,EAASsF,OAAO,QAASF,GAClBjB,EAASgB,IAAT,gBAA8BnF,EAAU,CAACwE,QAAS,CAAC,eAAgB,0BAbrES,GAAa,SAeVlI,GACR,OAAOoH,EAASgB,IAAT,UAAwBpI,IAG1BwI,GAAW,SACdC,EAAOC,GAA+B,IAArBC,EAAoB,wDACvC,OAAOvB,EAASxE,KAAT,aAA4B,CAAC6F,QAAOC,WAAUC,gBAFhDH,GAAW,WAKhB,OAAOpB,EAASa,OAAT,eC/CTW,GAAW,WACXC,GAAmB,mBACnBC,GAAkB,kBAClBC,GAAgB,gBAChBC,GAAqB,qBACrBC,GAAqB,qBACrBC,GAAuB,uBAGzBC,GAAe,CACf3G,MAAO,CACH,CAACyE,GAAI,EAAGpE,KAAM,cAAeC,WAAY,IACzC,CAACmE,GAAI,EAAGpE,KAAM,wBAAyBC,WAAY,KAGvD9C,QAAS,KACT0D,OAAQ,GACR0F,iBAAiB,GAyGRC,GAAiB,SAACrJ,GAAD,MAAc,CAACiC,KAAM4G,GAAkB7I,YACxDsJ,GAAgB,SAAC5F,GAAD,MAAa,CAACzB,KAAM6G,GAAiBpF,WACrD6F,GAAmB,SAAClJ,GAAD,MAAa,CAAC4B,KAAM+G,GAAoB3I,WAC3DmJ,GAAa,iBAAO,CAACvH,KAAMgH,KAC3BQ,GAAc,iBAAO,CAACxH,KAAMiH,KAG1BQ,GA9GQ,WAAmC,IAAlCC,EAAiC,uDAAzBR,GAAcS,EAAW,uCAGrD,OAAQA,EAAO3H,MACX,KAAK2G,GACD,OAAO,2BACAe,GADP,IAEInH,MAAM,GAAD,mBAAMmH,EAAMnH,OAAZ,CACD,CAACyE,GAAI,EAAGpE,KAAM+G,EAAOC,QAAS/G,WAAY,OAGtD,KAAK+F,GACD,OAAO,2BACAc,GADP,IAEI3J,QAAS4J,EAAO5J,UAExB,KAAK8I,GACD,OAAO,2BACAa,GADP,IAEIjG,OAAQkG,EAAOlG,SAEvB,KAAKqF,GACD,OAAO,2BACAY,GADP,IAEIG,iBAAkBF,EAAOG,WAEjC,KAAKf,GACD,OAAO,2BACAW,GADP,IAEI3J,QAAQ,2BAAK2J,EAAM3J,SAAZ,IAAqBK,OAAQuJ,EAAOvJ,WAEnD,KAAK4I,GACD,OAAO,2BACAU,GADP,IAEIP,iBAAiB,IAEzB,KAAKF,GACD,OAAO,2BACAS,GADP,IAEIP,iBAAiB,IAGzB,QACI,OAAOO,I,SC1CHK,GADSC,cAfH,SAACN,GACnB,MAAM,CACFlH,YAAakH,EAAMlH,YACnBzC,QAAS2J,EAAMlH,YAAYzC,YAIV,SAAC+C,GACtB,MAAO,CACHI,QAAS,SAACN,GACN,IAAI+G,ED2GoB,SAAC/G,GAAD,MAAW,CAACZ,KAAM2G,GAAUiB,QAAShH,GC3GhDqH,CAAqBrH,GAClCE,EAAS6G,OAIIK,CAA6C9H,GCCvDgI,GAdC,SAACpK,GAEb,OACI,sBAAKE,UAAU,GAAf,UACI,cAAC,EAAD,CAAaD,QAASD,EAAMC,QAASiH,GAAIlH,EAAMkH,GAAIvD,OAAQ3D,EAAM2D,OAAQO,aAAclE,EAAMkE,aAChFH,QAAS/D,EAAM+D,QAAS+B,UAAW9F,EAAM8F,UACzCiB,wBAAyB/G,EAAM+G,wBAC/BD,0BAA2B9G,EAAM8G,0BAA2BrD,SAAUzD,EAAMyD,SAC5E2D,YAAapH,EAAMoH,cAEhC,cAAC,GAAD,Q,SCfRiD,GAA0B,SAACT,GAC3B,MAAO,CACHU,OAAQV,EAAMW,YAAYD,SAIrBE,GAAmB,SAACC,GAAe,IACtCC,EADqC,4JAEvC,WACI,OAAKC,KAAK3K,MAAMsK,OACT,cAACG,EAAD,eAAeE,KAAK3K,QADI,cAAC,KAAD,CAAU4K,GAAI,eAHV,GACXvI,IAAMoI,WAQtC,OADgCP,aAAQG,GAARH,CAAiCQ,I,SCD/DG,G,oKACF,WACI,IAAIC,EAASH,KAAK3K,MAAM+K,MAAMC,OAAOF,OAChCA,IACDA,EAASH,KAAK3K,MAAMkH,IAExByD,KAAK3K,MAAMiL,aAAaH,GACxBH,KAAK3K,MAAMkL,gBAAgBJ,K,+BAG/B,WACIH,KAAKQ,mB,gCAGT,SAAmBC,EAAWC,EAAWC,GACjCX,KAAK3K,MAAM+K,MAAMC,OAAOF,QAAUM,EAAUL,MAAMC,OAAOF,QACzDH,KAAKQ,mB,oBAKb,WACI,OACI,8BACI,cAAC,GAAD,2BAAaR,KAAK3K,OAAlB,IAAyBC,QAAS0K,KAAK3K,MAAMC,QAASiH,GAAIyD,KAAK3K,MAAMkH,GAAIvD,OAAQgH,KAAK3K,MAAM2D,OACnFO,aAAcyG,KAAK3K,MAAMuL,eAAgBxH,SAAU4G,KAAK3K,MAAM+K,MAAMC,OAAOF,OAC3EhF,UAAW6E,KAAK3K,MAAM8F,UAAWiB,wBAAyB4D,KAAK3K,MAAM+G,wBACrED,0BAA2B6D,KAAK3K,MAAM8G,0BACtCrD,SAAUkH,KAAK3K,MAAMyD,SAAU2D,YAAauD,KAAK3K,MAAMoH,qB,GA5BjD/E,IAAMoI,WA4CtBe,gBACXtB,cAVkB,SAACN,GAAD,MAAY,CAC9B3J,QAAS2J,EAAMlH,YAAYzC,QAC3BiH,GAAI0C,EAAMW,YAAYrD,GACtBvD,OAAQiG,EAAMlH,YAAYiB,OAC1BF,SAAUmG,EAAMlH,YAAY2G,mBAMH,CACrBC,kBACA2B,aJKoB,SAACH,GAAD,OAAY,SAAC9H,GACrCmF,GAAsB2C,GAAQ/C,MAAK,SAAAC,GAC/BhF,EAASsG,GAAetB,EAASC,YINjCiD,gBJSuB,SAAC9C,GAAD,OAAY,SAACpF,GACxCmF,GAAqBC,GAChBL,MAAK,SAAAC,GACFhF,EAASuG,GAAcvB,EAASC,YIXpCsD,eJcsB,SAAC5H,GAAD,OAAY,SAACX,GACvCmF,GAAwBxE,GACnBoE,MAAK,SAAAC,GAC+B,IAA7BA,EAASC,KAAKwD,YACdzI,EAASuG,GAAc5F,SIjB/BmC,UJsBiB,SAACwC,GAAD,OAAW,SAACtF,GACjCmF,GAAqBG,GAChBP,MAAK,SAAAC,GAC+B,IAA7BA,EAASC,KAAKwD,YACdzI,EAASwG,GAAiBxB,EAASC,KAAKA,KAAK3H,cIzBrDyG,wBJ+C+B,kBAAM,SAAC/D,GAE1CA,EAASyG,QIhDL3C,0BJkDiC,kBAAM,SAAC9D,GAC5CA,EAAS0G,QIlDLtC,YJ4BmB,SAACa,GAAD,OAAU,SAACjF,EAAU0I,GAC5C1I,EAAS0G,MACV,IAAMoB,EAASY,IAAWnB,YAAYrD,GACrCiB,GAAuBF,GAClBF,MAAK,SAAAC,GAC+B,IAA7BA,EAASC,KAAKwD,YACdtD,GAAsB2C,GAAQ/C,MAAK,SAAAC,GAC/BhF,EAASsG,GAAetB,EAASC,iBIjCjDuC,GACAmB,KAZWH,CAabX,IChEae,I,OAPF,SAAC5L,GACV,OACI,yC,SCKO6L,I,OAPD,SAAC7L,GACX,OACI,0CCKO8L,I,OAPE,SAAC9L,GACd,OACI,6CCLF+L,GAAe,eACjB3C,GAAe,CAEf4C,QAAS,CACL,CAAC9E,GAAI,EAAGtF,KAAM,UACd,CAACsF,GAAI,EAAGtF,KAAM,QACd,CAACsF,GAAI,EAAGtF,KAAM,UAElBqK,SAAU,CACN,CAAC/E,GAAI,EAAGzG,QAAS,eACjB,CAACyG,GAAI,EAAGzG,QAAS,MACjB,CAACyG,GAAI,EAAGzG,QAAS,MACjB,CAACyG,GAAI,EAAGzG,QAAS,eAuBVyL,GAjBS,WAAmC,IAAlCtC,EAAiC,uDAAzBR,GAAcS,EAAW,uCAGtD,OAAQA,EAAO3H,MACX,KAAK6J,GACD,OAAO,2BACAnC,GADP,IAEIuC,YAAY,GACZF,SAAS,GAAD,mBAAMrC,EAAMqC,UAAZ,CACJ,CAAC/E,GAAI,EACLzG,QAASoJ,EAAOsC,iBAE5B,QAAW,OAAOvC,I,yCCjBXwC,GATA,SAACpM,GACZ,IAAIqM,EAAM,YAAcrM,EAAMkH,GAC9B,OACI,qBAAKhH,UAAWC,KAAEC,KAAlB,SACG,eAAC,KAAD,CAASwK,GAAIyB,EAAMC,gBAAiBnM,KAAEoM,OAAtC,cAAgDvM,EAAM4B,W,qBCElD4K,GAPC,SAACxM,GACb,OACI,qBAAKE,UAAWC,KAAEC,KAAlB,SACKJ,EAAMiM,YCEbQ,GAAczL,EAAiB,IAc/B0L,GAAmBhL,YAAU,CAC/BC,KAAM,WADeD,EAbL,SAAC1B,GAEjB,OACI,uBAAM8B,SAAU9B,EAAMyF,aAAtB,UACI,8BACI,cAACH,EAAA,EAAD,CAAO1D,KAAM,UAAWyD,UAAWL,EAAUO,SAAU,CAACzE,EAAU2L,QAEtE,8BACI,oGAqCDE,GA7BC,SAAC3M,GAGb,IAAIiM,EAAWjM,EAAM4M,aAAaX,SAASrJ,KAC1C,SAAAiK,GAAE,OAAK,cAAC,GAAD,CAASZ,SAAUY,EAAGpM,aAE1BuL,EAAUhM,EAAM4M,aAAaZ,QAAQpJ,KAAI,SAAAkK,GAAM,OAC9C,cAAC,GAAD,CAAQlL,KAAMkL,EAAOlL,KAAM0K,gBAAiBnM,KAAEoM,OAAQrF,GAAI4F,EAAO5F,QAStE,OACI,sBAAKhH,UAAWC,KAAE6L,QAAlB,UACI,qBAAK9L,UAAWC,KAAE4M,YAAlB,SACKf,IAEL,sBAAK9L,UAAWC,KAAE8L,SAAlB,UACKA,EACD,cAACS,GAAD,CAAkB5K,SAbf,SAACoB,GACZ,IAAIJ,EAAOI,EAASzC,QACpBT,EAAMgN,YAAYlK,GAClBI,EAASzC,QAAU,eCbZ+K,gBACXtB,cAlBkB,SAACN,GACnB,MAAO,CACHgD,aAAchD,EAAMgD,iBAIH,SAAC5J,GACtB,MAAO,CACHgK,YAAa,SAAClK,GACVE,EJiB4B,SAACF,GAAD,MAAW,CAACZ,KAAO6J,GAAcI,YAAarJ,GIjBjEmK,CAAyBnK,SAU9C0H,GAFegB,CAGbmB,I,oBCAaO,GArBA,SAAClN,GAEZ,OACI,qBAAKE,UAAWC,KAAEgN,OAAlB,SACI,sBAAKjN,UAAWC,KAAEiN,IAAlB,UAEI,qBAAKlN,UAAWC,KAAEC,KAAlB,SACI,cAAC,KAAD,CAASwK,GAAG,QAAQ0B,gBAAiBnM,KAAEoM,OAAvC,2DAEJ,qBAAKrM,UAAWC,KAAEC,KAAlB,SACI,cAAC,KAAD,CAASwK,GAAG,SAAS0B,gBAAiBnM,KAAEoM,OAAxC,oDAEJ,qBAAKrM,UAAWC,KAAEC,KAAlB,SACI,cAAC,KAAD,CAASwK,GAAG,YAAY0B,gBAAiBnM,KAAEoM,OAA3C,6E,ICHIrC,cAXF,SAACN,GACnB,MAAM,CACFyD,QAASzD,EAAMyD,YAGE,WACrB,MAAM,KAKcnD,CAA6CgD,I,OCf/DI,GAAS,SACTC,GAAW,WACXC,GAAY,YACZC,GAAmB,mBACnBC,GAAwB,wBACxBC,GAAqB,qBACrBC,GAAkC,kCAGpCxE,GAAe,CACfyE,MAAO,GACPhG,SAAU,GACViG,gBAAiB,EACjBlG,YAAa,EACbmG,YAAY,EACZC,oBAAqB,IAsDZC,GAAS,SAACnD,GAAD,MAAa,CAAC5I,KAAMoL,GAAQxC,WACrCoD,GAAW,SAACpD,GAAD,MAAa,CAAC5I,KAAMqL,GAAUzC,WAEzCqD,GAAiB,SAACvG,GAAD,MAAkB,CAAC1F,KAAMuL,GAAkB7F,gBAE5DwG,GAAmB,SAACL,GAAD,MAAiB,CAAC7L,KAAMyL,GAAoBI,eAC/DM,GAA4B,SAACC,EAAalG,GAAd,MAA0B,CAC/DlG,KAAM0L,GACNU,cACAlG,WA6BWmG,GA1FM,WAAmC,IAAlC3E,EAAiC,uDAAzBR,GAAcS,EAAW,uCAGnD,OAAQA,EAAO3H,MACX,KAAKoL,GACD,OAAO,2BACA1D,GADP,IAEIiE,MAAOjE,EAAMiE,MAAMjL,KAAI,SAAA4L,GACnB,OAAIA,EAAEtH,KAAO2C,EAAOiB,OACT,2BAAI0D,GAAX,IAAcC,UAAU,IAErBD,OAInB,KAAKjB,GACD,OAAO,2BACA3D,GADP,IAEIiE,MAAOjE,EAAMiE,MAAMjL,KAAI,SAAA4L,GACnB,OAAIA,EAAEtH,KAAO2C,EAAOiB,OACT,2BAAI0D,GAAX,IAAcC,UAAU,IAErBD,OAInB,KAAKhB,GACD,OAAO,2BAAI5D,GAAX,IAAkBiE,MAAOhE,EAAOgE,QAEpC,KAAKJ,GACD,OAAO,2BAAI7D,GAAX,IAAkBhC,YAAaiC,EAAOjC,cAE1C,KAAK8F,GACD,OAAO,2BAAI9D,GAAX,IAAkBkE,gBAAiBjE,EAAO6E,QAE9C,KAAKf,GACD,OAAO,2BAAI/D,GAAX,IAAkBmE,WAAYlE,EAAOkE,aAEzC,KAAKH,GACD,OAAO,2BACAhE,GADP,IAEIoE,oBAAqBnE,EAAOyE,YAAP,sBACb1E,EAAMoE,qBADO,CACcnE,EAAOzB,SACpCwB,EAAMoE,oBAAoBW,QAAO,SAAAzH,GAAE,OAAIA,GAAM2C,EAAOzB,YAGlE,QACI,OAAOwB,I,6DCtBJgF,GAtCC,SAAC,GAIb,IAJ4E,IAA9DC,EAA6D,EAA7DA,gBAAiBC,EAA4C,EAA5CA,YAAalH,EAA+B,EAA/BA,YAAamH,EAAkB,EAAlBA,aAErDC,EAAaC,KAAKC,KAAKL,EAAkBC,GACzCK,EAAQ,GACHC,EAAI,EAAGA,GAAKJ,EAAYI,IAC7BD,EAAME,KAAKD,GAGf,IAAIE,EAAeL,KAAKC,KAAKF,EAAWF,GACxC,EAAwCtL,mBAAS,GAAjD,mBAAK+L,EAAL,KAAoBC,EAApB,KACIC,GAAqBF,EAAgB,GAAKT,EAAc,EACxDY,EAAqBH,EAAgBT,EAEzC,OAAO,mCACH,sBAAK5O,UAAWC,KAAEwP,UAAlB,UAEGJ,EAAgB,GACnB,cAAC,IAAD,CAAQ5O,QAAS,WAAM6O,EAAkB,IAAzC,mBACCD,EAAgB,GACjB,cAAC,IAAD,CAAQ5O,QAAS,WAAM6O,EAAkBD,EAAe,IAAxD,sBACCJ,EAAMR,QAAO,SAAAiB,GAAC,OAAIA,GAAKH,GAAqBG,GAAIF,KAC5C9M,KAAI,SAAAgN,GACL,OAAM,cAAC,IAAD,CAAQ1P,UACV2P,KAAG,gBAAE1P,KAAE2P,aAAelI,IAAgBgI,GAAIzP,KAAE4P,YAEjCpP,QAAS,SAACyD,GACN2K,EAAaa,IAJ1B,SAMJA,GAJkBA,MAMvBN,EAAeC,GAChB,cAAC,IAAD,CAAQ5O,QAAS,WAAK6O,EAAiBD,EAAc,IAArD,kBACCD,EAAeC,GAChB,cAAC,IAAD,CAAQ5O,QAAS,WAAK6O,EAAiBF,IAAvC,wBCYOU,I,OA1CD,SAAChQ,GAEX,OAAO,gCACH,8BACI,cAAC,GAAD,CAAW6O,gBAAiB7O,EAAM8N,gBAAiBiB,aAAc/O,EAAM+O,aAC5DnH,YAAa5H,EAAM4H,YACnBkH,YAAa9O,EAAM6H,aAGjC7H,EAAM6N,MAAMjL,KAAI,SAAA4L,GAAC,OAAI,gCACV,iCACI,8BACI,cAAC,KAAD,CAAS5D,GAAI,YAAc4D,EAAEtH,GAA7B,SACA,qBAAK7G,IAAuB,MAAlBmO,EAAElO,OAAOC,MAAgBiO,EAAElO,OAAOC,MAAQC,EAAWN,UAAWC,KAAEK,gBAGhF,qBAAKN,UAAWC,KAAE8P,aAAlB,SACKzB,EAAEC,SACC,cAAC,IAAD,CAAQvM,KAAK,UAAUF,KAAK,SACpBkO,SAAUlQ,EAAMgO,oBAAoBmC,MAAK,SAAAjJ,GAAE,OAAIA,IAAOsH,EAAEtH,MACxDvG,QAAS,WACLX,EAAMkO,SAASM,EAAEtH,KAH7B,wBAMA,cAAC,IAAD,CAAQhF,KAAK,UAAUF,KAAK,SACpBkO,SAAUlQ,EAAMgO,oBAAoBmC,MAAK,SAAAjJ,GAAE,OAAIA,IAAOsH,EAAEtH,MAAKvG,QAAS,WAC1EX,EAAMiO,OAAOO,EAAEtH,KAFnB,yBAQpB,+BACY,iCACI,8BAAMsH,EAAE5M,OACR,8BAAM4M,EAAE7K,gBA1BI6K,EAAEtH,Y,UCb7BkJ,GAAwBC,cAHb,SAACzG,GACtB,OAAQA,EAAM0G,UAAUzC,SAEmC,SAACA,GAC5D,OAAQA,KAIE0C,GAAc,SAAC3G,GACzB,OAAQA,EAAM0G,UAAUzI,UAEd2I,GAAqB,SAAC5G,GAChC,OAAQA,EAAM0G,UAAUxC,iBAEd2C,GAAiB,SAAC7G,GAC5B,OAAQA,EAAM0G,UAAU1I,aAEd8I,GAAgB,SAAC9G,GAC3B,OAAQA,EAAM0G,UAAUvC,YAEd4C,GAAyB,SAAC/G,GACpC,OAAQA,EAAM0G,UAAUtC,qBCLrB4C,G,4MAMF7B,aAAe,SAACgB,GACZ,EAAK/P,MAAM6Q,WAAWd,EAAY,EAAK/P,MAAM6H,W,uDALjD,WACI8C,KAAK3K,MAAM6Q,WAAWlG,KAAK3K,MAAM4H,YAAa+C,KAAK3K,MAAM6H,Y,oBAQ7D,WAAU,IAAD,EACL,OAAO,qCACF8C,KAAK3K,MAAM+N,WAAa,cAAC,EAAD,IAAe,KACxC,cAAC,IAAD,GAAOD,gBAAiBnD,KAAK3K,MAAM8N,gBAC5BjG,SAAU8C,KAAK3K,MAAM6H,SACrBD,YAAa+C,KAAK3K,MAAM4H,YACxBmH,aAAcpE,KAAKoE,aACnBd,OAAQtD,KAAK3K,MAAMiO,OACnBC,SAAUvD,KAAK3K,MAAMkO,SACrBL,MAAOlD,KAAK3K,MAAM6N,MAClBE,WAAYpD,KAAK3K,MAAM+N,WACvBC,oBAAqBrD,KAAK3K,MAAMgO,oBAChCK,0BAA2B1D,KAAK3K,MAAMqO,2BAT7C,0BAUiB1D,KAAK3K,MAAM8Q,YAV5B,wBAWenG,KAAK3K,MAAM+Q,UAX1B,W,GAdW1O,IAAMoI,WAwCde,gBAEXtB,cAZkB,SAACN,GACnB,MAAO,CACHiE,MAAOuC,GAAsBxG,GAC7B/B,SAAU0I,GAAY3G,GACtBkE,gBAAiB0C,GAAmB5G,GACpChC,YAAa6I,GAAe7G,GAC5BmE,WAAY2C,GAAc9G,GAC1BoE,oBAAqB2C,GAAuB/G,MAM5C,CACIqE,UAAQC,YAAUC,kBAAgB0C,WJoBrB,SAACjJ,EAAaC,GAAd,OAA2B,SAAC7E,GACjDA,EAASoL,IAAiB,IAC1BpL,EAASmL,GAAevG,IACxBD,EAAiBC,EAAaC,GAAUE,MAAK,SAAAE,GAZzB,IAAC4F,EAEUmD,EAW3BhO,EAASoL,IAAiB,IAC1BpL,GAdiB6K,EAcC5F,EAAKgJ,MAdK,CAAC/O,KAAMsL,GAAWK,WAe9C7K,GAb2BgO,EAaC/I,EAAK+I,WAbU,CAAC9O,KAAMwL,GAAuBgB,MAAOsC,UIb9BF,WJ6BhC,SAAC1I,GAAD,OAAY,SAACpF,GACnCA,EAASqL,IAA0B,EAAMjG,IACzCT,EAAiBS,GAAQL,MAAK,SAAAC,GACM,GAA5BA,EAASC,KAAKwD,YACdzI,EAASkL,GAAS9F,IAEtBpF,EAASqL,IAA0B,EAAOjG,SInCoB2I,SJsC9C,SAAC3I,GAAD,OAAY,SAACpF,GACjCA,EAASqL,IAA0B,EAAMjG,IACzCT,EAAeS,GAAQL,MAAK,SAAAC,GACQ,GAA5BA,EAASC,KAAKwD,YACdzI,EAASiL,GAAO7F,IAEpBpF,EAASqL,IAA0B,EAAOjG,WIhDnCoD,CAKHoF,I,+BC5CGM,GAbA,SAAClR,GAEZ,OACI,yBAAQE,UAAWC,KAAEgR,OAArB,UACA,qBAAK9Q,IAAI,mCACT,qBAAKH,UAAWC,KAAEiR,WAAlB,SACKpR,EAAMsK,OAAQ,oCAAOtK,EAAMqR,MAAb,MAAsB,cAACC,GAAA,EAAD,CAAQ3Q,QAASX,EAAMuR,OAAvB,wBACpC,cAAC,KAAD,CAAS3G,GAAI,SAAb,yB,uCCTP4G,GAAgB,gBAChBC,GAAmB,mBAGrBrI,GAAe,CACflC,GAAI,KACJmK,MAAO,KACP3I,MAAO,KACP4B,QAAQ,EACRyD,YAAY,EACZ2D,gBAAiB,MA2BRC,GAAkB,SAACzK,EAAImK,EAAO3I,EAAO4B,GAAnB,MAA+B,CAC1DpI,KAAMsP,GACNI,QAAS,CAAC1K,KAAImK,QAAO3I,QAAO4B,YAKnBuH,GAAW,2DAAM,WAAO7O,GAAP,wBAAA8O,EAAA,sEtBOnBzK,EAASS,IAAT,WsBPmB,OAEkB,KADzCE,EADuB,QAEFC,KAAKwD,aAAmB,EACRzD,EAASC,KAAKA,KAAlCf,EAD2B,EAC3BA,GAAImK,EADuB,EACvBA,MAAO3I,EADgB,EAChBA,MAChB1F,EAAS2O,GAAgBzK,EAAImK,EAAO3I,GAAO,KAJhC,2CAAN,uDAqBX6I,GAAS,2DAAM,WAAOvO,GAAP,UAAA8O,EAAA,sEACJrJ,KADI,OAEa,IAFb,OAEPR,KAAKwD,YACdzI,EAAS2O,GAAgB,KAAM,KAAM,MAAM,IAH3B,2CAAN,uDASPpH,GA5DK,WAAmC,IAAlCX,EAAiC,uDAAzBR,GAAcS,EAAW,uCAGlD,OAAQA,EAAO3H,MACX,KAAKsP,GACD,OAAO,uCACA5H,GACAC,EAAO+H,SACP/H,EAAO+H,QAAQtH,QAG1B,KAAKmH,GACD,OAAO,2BACA7H,GADP,IAEI8H,gBAAiB7H,EAAOkI,cAGhC,QACI,OAAOnI,IC/BboI,G,4JAEF,WACI,OAAO,cAAC,GAAD,eAAYrH,KAAK3K,Y,GAHFqC,IAAMoI,W,IAarBP,cANO,SAACN,GAAD,MAAY,CAC9ByH,MAAOzH,EAAMW,YAAY8G,MACzB/G,OAAQV,EAAMW,YAAYD,OAC1BoH,gBAAiB9H,EAAMW,YAAYmH,mBAGC,CAACH,WAA1BrH,CAAmC8H,I,QCZ5CC,GAAY,SAACjS,GAEf,OACI,eAAC,IAAD,CACI4B,KAAK,QACLR,SAAU,CACNC,KAAM,GAEVC,WAAY,CACRD,KAAM,IAEV8F,cAAe,CACX+K,UAAU,GAEdrQ,SAAU7B,EAAM8B,SAXpB,UAgBI,cAAC,IAAKC,KAAN,CACIoQ,MAAM,WACNvQ,KAAK,WACLwQ,MAAO,CACH,CACItR,UAAU,EACVL,QAAS,gCANrB,SAUI,cAAC,IAAD,MAGJ,cAAC,IAAKsB,KAAN,CACIoQ,MAAM,WACNvQ,KAAK,WACLwQ,MAAO,CACH,CACItR,UAAU,EACVL,QAAS,gCANrB,SAUI,cAAC,IAAM4R,SAAP,MAGJ,cAAC,IAAKtQ,KAAN,CACIH,KAAK,WACL0Q,cAAc,UACdhR,WAAY,CACRW,OAAQ,EACRZ,KAAM,IALd,SAQI,cAAC,KAAD,4BAGJ,cAAC,IAAKU,KAAN,CACIT,WAAY,CACRW,OAAQ,EACRZ,KAAM,IAHd,SAMI,cAAC,IAAD,CAAQa,KAAK,UAAUC,SAAS,SAAhC,0BA2CDoQ,GAfD,SAACvS,GAKX,OAAIA,EAAMsK,OACC,cAAC,KAAD,CAAUM,GAAI,aAEd,gCACH,uCACA,cAAC,GAAD,CAAW9I,SATF,SAAC0Q,GACdxS,EAAMqR,MAAMmB,EAAOC,SAAUD,EAAO7J,SAAU6J,EAAON,iBC3FvDQ,G,4JAEF,WACI,OACI,8BAAK,cAAC,GAAD,CAAOrB,MAAO1G,KAAK3K,MAAMqR,MAAO/G,OAAQK,KAAK3K,MAAMsK,e,GAJvCjI,IAAMoI,WAcpBe,gBACXtB,cALoB,SAACN,GAAD,MAAY,CAChCU,OAAQV,EAAMW,YAAYD,UAID,CAAC+G,MHmCT,SAAC3I,EAAOC,EAAUC,GAAlB,gDAAiC,WAAO5F,GAAP,kBAAA8O,EAAA,sEAE7BrJ,GAAeC,EAAOC,EAAUC,GAFH,OAGb,KADjCZ,EAF8C,QAGjCC,KAAKwD,WACdzI,EAAS6O,OAELpR,EAAUuH,EAASC,KAAKgE,SAAS/K,OAAS,EAAI8G,EAASC,KAAKgE,SAAS,GAAK,aAC9EjJ,EAAS2P,aAAW,QAAS,CAACC,OAAQnS,MAPI,2CAAjC,yDGpCN+K,CAEbkH,ICpBIG,GAAsB,sBAGxBzJ,GAAe,CACf0J,aAAa,GAgCFC,GA5BI,WAAmC,IAAlCnJ,EAAiC,uDAAzBR,GAAcS,EAAW,uCAGjD,OAAQA,EAAO3H,MACX,KAAK2Q,GACD,OAAO,2BACAjJ,GADP,IAEGkJ,aAAa,IAGpB,QACI,OAAOlJ,I,sECWZsH,GAA0B8B,KAA1B9B,OAAQ+B,GAAkBD,KAAlBC,MAAOC,GAAWF,KAAXE,QAEhBC,G,4MACFvJ,MAAQ,CACJwJ,WAAW,EACXpR,KAAM,S,EAGVqR,OAAS,WACL,EAAKC,SAAS,CACVF,WAAY,EAAKxJ,MAAMwJ,a,EAG/BG,uBAAyB,WACrBC,MAAM,e,uDAGV,WACI7I,KAAK3K,MAAMyT,gBACXC,OAAOC,iBAAiB,qBAAsBhJ,KAAK4I,0B,kCAGvD,WACIG,OAAOE,oBAAoB,qBAAsBjJ,KAAK4I,0B,oBAG1D,WACmB5I,KAAKf,MAAb5H,KACP,OAAK2I,KAAK3K,MAAM8S,YAGT,mCACH,eAAC,KAAD,WACI,eAACG,GAAD,CAAOY,QAAS,KAAMC,aAAW,EAACV,UAAWzI,KAAKf,MAAMwJ,UAAxD,UACI,qBAAKlT,UAAU,SACf,eAAC,KAAD,CAAM6T,MAAM,OAAOC,KAAK,SAASC,oBAAqB,CAAC,KAAvD,UACI,cAAC,KAAKlS,KAAN,CAAmBnB,KAAM,cAACsT,GAAA,EAAD,IAAzB,SACI,cAAC,KAAD,CAAStJ,GAAG,WAAW0B,gBAAiBnM,KAAEoM,OAA1C,yDADW,KAGf,cAAC,KAAKxK,KAAN,CAAmBnB,KAAM,cAACuT,GAAA,EAAD,IAAzB,SACI,cAAC,KAAD,CAASvJ,GAAG,WAAW0B,gBAAiBnM,KAAEoM,OAA1C,qEADW,KAGf,cAAC,KAAKxK,KAAN,CAAmBnB,KAAM,cAACwT,GAAA,EAAD,IAAzB,SACI,cAAC,KAAD,CAASxJ,GAAG,SAAS0B,gBAAiBnM,KAAEoM,OAAxC,wFADW,WAMvB,eAAC,KAAD,CAAQrM,UAAU,cAAlB,UACI,eAAC,GAAD,CAAQA,UAAU,yBAAyBmU,MAAO,CAACC,QAAS,GAA5D,UACI,sBAAKpU,UAAU,aAAf,cAA8ByK,KAAK3K,MAAMsK,OACrC,oCAAOK,KAAK3K,MAAMqR,MAAlB,MAA2B,cAAC,IAAD,CAAQ1Q,QAASgK,KAAK3K,MAAMuR,OAA5B,uBAEzB,cAAC,KAAD,CAAS3G,GAAI,SAAb,sBAELvI,IAAMkS,cAAc5J,KAAKf,MAAMwJ,UAAYoB,KAAqBC,KAAkB,CAC/EvU,UAAW,UACXS,QAASgK,KAAK0I,YAItB,cAACH,GAAD,CACIhT,UAAU,yBACVmU,MAAO,CACHK,OAAQ,YACRJ,QAAS,GACTK,UAAW,KALnB,SAQI,eAAC,KAAD,WACI,cAAC,KAAD,CAAOtI,KAAK,IAAIuI,OAAK,EAArB,SAAsB,cAAC,KAAD,CAAUhK,GAAG,eACnC,cAAC,KAAD,CAAOyB,KAAK,WAAWwI,OAAQ,kBAAM,cAACC,GAAD,OACrC,cAAC,KAAD,CAAOzI,KAAK,oBAAoBwI,OAAQ,kBAAM,cAAC,GAAD,OAC9C,cAAC,KAAD,CAAOxI,KAAK,QAAQwI,OAAQ,kBAAM,cAAC,GAAD,OAClC,cAAC,KAAD,CAAOxI,KAAK,SAASwI,OAAQ,kBAAM,cAAC,GAAD,OACnC,cAAC,KAAD,CAAOxI,KAAK,YAAYwI,OAAQ,kBAAM,cAAC,GAAD,OACtC,cAAC,KAAD,CAAOxI,KAAK,SAASwI,OAAQ,kBAAM,cAACE,GAAD,OACnC,cAAC,KAAD,CAAO1I,KAAK,SAASwI,OAAQ,kBAAM,cAAC,GAAD,OACnC,cAAC,KAAD,CAAOxI,KAAK,IAAIwI,OAAQ,kBAAM,gEAjDvC,cAAC,EAAD,Q,GA3BDxS,IAAMoI,WA+FTe,gBACXG,KACAzB,cAToB,SAACN,GAAD,MAAY,CAChCkJ,YAAalJ,EAAMoL,IAAIlC,YACvBzB,MAAOzH,EAAMW,YAAY8G,MACzB/G,OAAQV,EAAMW,YAAYD,OAC1BoH,gBAAiB9H,EAAMW,YAAYmH,mBAKV,CAAC+B,cDrGD,kBAAM,SAACzQ,GAClBA,EAAS6O,MACnB9J,MAAK,WACT/E,EAPqC,CACrCd,KAAM2Q,UCwGmCtB,YAF9B/F,CAEwC2H,ICnInD/J,GAAc,CACd6L,WAAW,CACP,CAACC,YAAa,SACd,CAACA,YAAa,QACd,CAACA,YAAa,YAOPC,GAJQ,WAAmC,IAAlCvL,EAAiC,uDAAzBR,GAE5B,OAAOQ,G,oBCAPwL,GAAWC,aAAgB,CAC5B3S,YAAaiH,GACZiD,aAAcV,GACdmB,QAAS8H,GACT7E,UAAW/B,GACXhE,YAAaA,GACbyK,IAAKjC,GACLpR,KAAM2T,OAGNC,GAAQC,aAAYJ,GAAUK,aAAgBC,OAClDhC,OAAO6B,MAAQA,GAEAA,UCbf7T,YAAWiU,IAASd,OAChB,cAAC,KAAD,UACI,cAAC,KAAD,CAAUU,MAAOA,GAAjB,SACI,cAAC,GAAD,QAGRK,SAASC,eAAe,W,mBCf5BhW,EAAOC,QAAU,CAAC,IAAM,oBAAoB,KAAO,qBAAqB,OAAS,uBAAuB,OAAS,yB,mBCAjHD,EAAOC,QAAU,CAAC,iBAAmB,sCAAsC,eAAiB,oCAAoC,YAAc,iCAAiC,YAAc,iCAAiC,SAAW,gC,mBCAzOD,EAAOC,QAAU,CAAC,QAAU,4B","file":"static/js/main.af8d72ab.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"paginator\":\"Paginator_paginator__1Iho1\",\"pageNumber\":\"Paginator_pageNumber__22Q7G\",\"selectedPage\":\"Paginator_selectedPage__3bTZ4\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"item\":\"Post_item__2wbef\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"postsBlock\":\"MyPosts_postsBlock__1_3D0\",\"posts\":\"MyPosts_posts__2pbVp\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"formControl\":\"FormControls_formControl__1eOjv\",\"error\":\"FormControls_error__2N7hq\",\"formSummaryError\":\"FormControls_formSummaryError__3iq5l\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"item\":\"Dialog_item__17cN9\",\"active\":\"Dialog_active__2-gcu\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"userPhoto\":\"Users_userPhoto__211G3\",\"followButton\":\"Users_followButton__3nDI7\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Header_header__1lg1W\",\"loginBlock\":\"Header_loginBlock__1-bOJ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"item\":\"Message_item__2TQ9e\"};","export default __webpack_public_path__ + \"static/media/1.a2446033.png\";","import React, {useState} from 'react';\r\nimport s from './Post.module.css';\r\n\r\nimport {Button, } from 'antd';\r\nimport { LikeOutlined } from '@ant-design/icons';\r\nimport userPhoto from \"../../../../img/1.png\";\r\nconst Post = (props) => {\r\n\r\n    let addLike = () => {\r\n\r\n    }\r\n    if (!props.profile){\r\n        return null\r\n    }\r\n    return (\r\n        <div className={s.item}>\r\n            <img src={props.profile.photos.small || userPhoto} className={s.userPhoto}/>\r\n            {props.message}\r\n            <div>\r\n                <span>like {props.like}</span>\r\n            </div>\r\n            <div><Button onClick={addLike} icon={<LikeOutlined />}></Button></div>\r\n        </div>\r\n\r\n    );\r\n}\r\n\r\nexport default Post;","export const required = value => {\r\n    if (value) return undefined;\r\n\r\n    return \"Field is required\";\r\n}\r\n\r\n\r\nexport const maxLengthCreator = (maxLength) => (value) => {\r\n    if (value.length > maxLength) return `Max length is ${maxLength} symbols`;\r\n    return undefined;\r\n}\r\n\r\n","import React from 'react';\r\nimport Post from './Post/Post';\r\nimport s from './MyPosts.module.css'\r\nimport {Field, reduxForm} from \"redux-form\";\r\nimport {maxLengthCreator, required} from \"../../../utilits/validators/validators\";\r\n//import {Textarea} from \"../../Common/FormControls\";\r\nimport {Form, Input, InputNumber, Button} from 'antd';\r\n\r\nconst layout = {\r\n    labelCol: {\r\n        span: 8,\r\n    },\r\n    wrapperCol: {\r\n        span: 16,\r\n    },\r\n};\r\nconst {TextArea} = Input;\r\nconst maxLength100 = maxLengthCreator(100);\r\n\r\nconst AddPostForm = (props) => {\r\n    return <Form {...layout} name=\"nest-messages\" onFinish={props.onSubmit}>\r\n        <Form.Item name=\"post\" size=\"large\">\r\n            <Input.TextArea/>\r\n        </Form.Item>\r\n        <Form.Item wrapperCol={{...layout.wrapperCol, offset: 6,\r\n            span: 100}}>\r\n            <Button type=\"primary\" htmlType=\"submit\">\r\n                Отправить\r\n            </Button>\r\n        </Form.Item>\r\n    </Form>\r\n}\r\nconst AddPostReduxForm = reduxForm({\r\n    form: \"addPost\"\r\n})(AddPostForm);\r\n\r\nconst MyPosts = React.memo(props => {\r\n    console.log(\"RENDER\");\r\n    let posts = [...props.profilePage.posts]\r\n        .reverse()\r\n        .map(post => (<Post message={post.text}\r\n                            like={post.likesCount} dispatch={props.dispatch}\r\n                            profile={props.profile}/>))\r\n    if (!props.profile) {\r\n        return null\r\n    }\r\n    const onSubmit = (formData) => {\r\n        let postText = formData.post\r\n        props.addPost(postText);\r\n        formData.post = null;\r\n    }\r\n    return (\r\n        <div className={s.postsBlock}>\r\n            <h3>My posts</h3>\r\n            <AddPostReduxForm onSubmit={onSubmit}/>\r\n\r\n            <div className={s.posts}>\r\n                {posts}\r\n            </div>\r\n        </div>\r\n\r\n    );\r\n});\r\n\r\nexport default MyPosts;\r\n","export default __webpack_public_path__ + \"static/media/Curve-Loading.5e01ee79.gif\";","import React from 'react';\r\nimport preloader from '../../img/Curve-Loading.gif';\r\n\r\n\r\nconst Preloader = () => {\r\n    return <div>\r\n        <img src={preloader}/>\r\n    </div>\r\n}\r\n\r\nexport default Preloader;","import React, {useEffect, useState} from \"react\";\r\n\r\nconst ProfileStatusWithHooks = (props) => {\r\n\r\n    let [editMode, setEditMode] = useState(false);\r\n    let [status, setStatus] = useState(props.status);\r\n\r\n    useEffect(() => {\r\n        setStatus(props.status);\r\n    },[props.status]);\r\n    const onStatusChange = (e) => {\r\n        setStatus(e.currentTarget.value);\r\n\r\n    }\r\n    const activateEditMode = () => {\r\n        if (props.isOwner) { setEditMode(true)}\r\n    }\r\n    const deactivateEditMode = () => {\r\n        setEditMode(false);\r\n        props.updateStatus(status);\r\n    }\r\n    return (\r\n\r\n        <div>\r\n\r\n            {!editMode &&\r\n            <div>\r\n                <b>Status:   </b>\r\n                <span onDoubleClick={activateEditMode}>{props.status || \"------\"}</span>\r\n            </div>\r\n            }\r\n            {editMode &&\r\n            <div>\r\n                <input autoFocus={true} onBlur={deactivateEditMode} onChange={onStatusChange}\r\n                       value={status}/>\r\n            </div>\r\n            }\r\n        </div>\r\n    )\r\n        ;\r\n\r\n}\r\n\r\nexport default ProfileStatusWithHooks;","import React from \"react\";\r\nimport styles from \"./FormControls.module.css\";\r\nimport {Field} from \"redux-form\";\r\n\r\nexport const FormControl = ({input, meta, child, ...props}) => {\r\n    const hasError = meta.error && meta.touched;\r\n    return (\r\n        <div className={styles.formControl + \" \" + (hasError ? styles.error : \" \")}>\r\n            <div>{props.children}</div>\r\n            <div>\r\n                {hasError && <span>{meta.error}</span>}\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport const Textarea = (props) => {\r\n    const {input, meta, child, ...restProps} = props;\r\n    return <FormControl{...props}><textarea {...input}{...restProps}/></FormControl>\r\n}\r\nexport const Input = (props) => {\r\n    const {input, meta, child, ...restProps} = props;\r\n    return <FormControl{...props}><input {...input}{...restProps}/></FormControl>\r\n}\r\nexport const createField = (placeholder, name, validators, component, props = {}, text = \"\") => (\r\n    <div>\r\n        <Field placeholder={placeholder} name={name}\r\n               validate={validators} component={component}\r\n               {...props}\r\n        /> {text}\r\n    </div>\r\n)","import s from \"./ProfileInfo.module.css\";\r\nimport {Input} from \"antd\";\r\nimport {UploadOutlined} from '@ant-design/icons';\r\nimport React from \"react\";\r\nimport {createField, Textarea} from \"../../../Common/FormControls\";\r\nimport {reduxForm} from \"redux-form\";\r\n\r\nconst ProfileDataForm = ({handleSubmit, props, profile}) => {\r\n    const onMainPhotoSelected = (e) => {\r\n        if (e.target.files.length) {\r\n            props.savePhoto(e.target.files[0])\r\n        }\r\n    }\r\n    return <div>\r\n        <div className={s.photoUpload}><Input icon={<UploadOutlined/>} type={\"file\"}\r\n                                              onChange={onMainPhotoSelected}/></div>\r\n        <form onSubmit={handleSubmit}>\r\n            <div>\r\n                <button onClick={() => {\r\n                }}>Save\r\n                </button>\r\n            </div>\r\n            <div>\r\n                <b>Full name:</b> {createField(\"Full name\", \"fullName\", [], \"input\")}\r\n            </div>\r\n            <div>\r\n                <b>В поисках работы:</b> {createField(\"\", \"lookingForAJob\", [], \"input\", {type: \"checkbox\"})}\r\n            </div>\r\n            <div>\r\n                <b>Мои навыки:</b> {createField(\"\", \"lookingForAJobDescription\", [], Textarea)}\r\n            </div>\r\n            <div>\r\n                <b>Обо мне:</b> {createField(\"\", \"aboutMe\", [], Textarea)}\r\n            </div>\r\n\r\n            <div>\r\n                <b>Контакты:</b> {Object.keys(profile.contacts).map(key => {\r\n                return <div>\r\n                    <b>{key}:</b> {createField(key, \"contacts.\" + key, [], \"input\")}\r\n                </div>\r\n            })}\r\n            </div>\r\n\r\n        </form>\r\n\r\n    </div>\r\n}\r\nconst ProfileDataReduxForm = reduxForm({form: \"edit-profile\"})(ProfileDataForm)\r\nexport default ProfileDataReduxForm","import React from 'react';\r\nimport s from './ProfileInfo.module.css';\r\nimport Preloader from \"../../../Common/Preloader\";\r\n\r\nimport userPhoto from \"../../../../img/1.png\";\r\nimport ProfileStatusWithHooks from \"./ProfileStatusWithHooks\";\r\nimport {Button, Input} from \"antd\";\r\nimport ProfileDataReduxForm from \"./ProfileDataForm\";\r\n\r\n\r\n\r\nconst ProfileInfo = (props) => {\r\n    if (!props.profile) {\r\n        return <div>\r\n            <Preloader/>\r\n        </div>\r\n    }\r\n    const isEditMode = () => {\r\n        if (props.editMode) {\r\n            return props.deactivateProfileEditMode;\r\n        }\r\n        return props.activateProfileEditMode;\r\n    }\r\n    const onSubmit = (formData) => {\r\n        props.saveProfile(formData);\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            {props.isOwner &&\r\n            <div className={s.editProfile}>\r\n                <Button onClick={isEditMode()}> {props.editMode ? \"Cancel\" : \"Edit\"}</Button>\r\n            </div>\r\n            }\r\n            <div>\r\n                <img\r\n                    src={props.profile.photos.large || userPhoto}\r\n                    className={s.largeUserPhoto}/>\r\n                <ProfileStatusWithHooks id={props.id} status={props.status} updateStatus={props.updateStatus}\r\n                                        isOwner={props.isOwner}/>\r\n\r\n                {props.isOwner && props.editMode ?\r\n                    <ProfileDataReduxForm initialValues={props.profile} profile={props.profile} savePhoto={props.savePhoto} onSubmit={onSubmit}/> :\r\n                    <ProfileData profile={props.profile}/>\r\n                }\r\n\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\n\r\nconst ProfileData = (props) => {\r\n    return <div className={s.discriptionBlock}>\r\n        <div>\r\n            <b>Full name:</b> {props.profile.fullName}\r\n        </div>\r\n        <div>\r\n            <b>looking For A Job:</b> {props.profile.lookingForAJob ? \"yes\" : \"no\"}\r\n        </div>\r\n        {props.profile.lookingForAJob &&\r\n        <div>\r\n            <b>My professional skills:</b> {props.profile.lookingForAJobDescription}\r\n        </div>\r\n        }\r\n        <div>\r\n            <b>About me:</b> {props.profile.aboutMe}\r\n        </div>\r\n        <div>\r\n            <b>Contacts:</b> {Object.keys(props.profile.contacts).map(key => {\r\n            return <Contacts key={key} contactTitle={key} contactValue={props.profile.contacts[key]}/>\r\n        })}\r\n        </div>\r\n\r\n    </div>\r\n}\r\n\r\nconst Contacts = ({contactTitle, contactValue}) => {\r\n    return <div className={s.contacts}>\r\n        <b>{contactTitle}:</b> {contactValue}\r\n\r\n    </div>\r\n}\r\n\r\nexport default ProfileInfo;","import axios from \"axios\";\r\n\r\n\r\nconst instance = axios.create({\r\n    withCredentials: true,\r\n    baseURL: 'https://social-network.samuraijs.com/api/1.0/',\r\n    headers:     {\r\n        \"API-KEY\": \"5b9674bd-9414-44f4-ad29-6c2f2b550f29\"\r\n    }\r\n});\r\n\r\n\r\n\r\nexport const userAPI = {\r\n    getUsers(currentPage, pageSize) {\r\n        return instance.get(`users?page=${currentPage} &count=${pageSize}`)\r\n            .then(response => response.data);\r\n    },\r\n\r\n    unfollow(id) {\r\n        return instance.delete(`follow/${id}`)\r\n    },\r\n    follow(id) {\r\n        return instance.post(`follow/${id}`)\r\n    }\r\n}\r\nexport const profileAPI = {\r\n    getProfile(userId) {\r\n        return instance.get(`profile/` + userId)\r\n    },\r\n    getStatus(userId) {\r\n        return instance.get(`profile/status/` + userId)\r\n    },\r\n    updateStatus(status) {\r\n        return instance.put(`profile/status`, {status: status})\r\n    },\r\n    savePhoto(photo) {\r\n        let formData = new FormData();\r\n        formData.append(\"image\", photo)\r\n        return instance.put(`profile/photo`, formData, {headers: {'Content-Type': 'multipart/form/data'}})\r\n    },\r\n    saveProfile(profile) {\r\n        return instance.put(`profile`, profile)\r\n    }\r\n}\r\nexport const loginAPI = {\r\n    login(email, password, rememberMe = false) {\r\n        return instance.post(`auth/login`, {email, password, rememberMe});\r\n    },\r\n    logout() {\r\n        return instance.delete(`auth/login`);\r\n    }\r\n}\r\n\r\nexport const authMe = () => {\r\n    return instance.get(`auth/me`)\r\n}","import {profileAPI} from \"../API/API\";\r\n\r\n\r\nconst ADD_POST = 'ADD-POST';\r\nconst SET_USER_PROFILE = 'SET_USER_PROFILE';\r\nconst SET_USER_STATUS = 'SET_USER_STATUS';\r\nconst STATUS_UPDATE = 'STATUS_UPDATE';\r\nconst SAVE_PHOTO_SUCCESS = 'SAVE_PHOTO_SUCCESS';\r\nconst ACTIVATE_EDIT_MODE = 'ACTIVATE_EDIT_MODE';\r\nconst DEACTIVATE_EDIT_MODE = 'DEACTIVATE_EDIT_MODE';\r\n\r\n\r\nlet initialState = {\r\n    posts: [\r\n        {id: 1, text: \"Hello world\", likesCount: 12},\r\n        {id: 2, text: \"This is my first post\", likesCount: 10},\r\n\r\n    ],\r\n    profile: null,\r\n    status: \"\",\r\n    profileEditMode: false,\r\n}\r\nconst profileReducer = (state = initialState, action) => {\r\n\r\n\r\n    switch (action.type) {\r\n        case ADD_POST:\r\n            return {\r\n                ...state,\r\n                posts: [...state.posts,\r\n                    {id: 6, text: action.newText, likesCount: 0}]\r\n            }\r\n\r\n        case SET_USER_PROFILE:\r\n            return {\r\n                ...state,\r\n                profile: action.profile\r\n            }\r\n        case SET_USER_STATUS:\r\n            return {\r\n                ...state,\r\n                status: action.status\r\n            }\r\n        case STATUS_UPDATE:\r\n            return {\r\n                ...state,\r\n                statusInProgress: action.isUpdate\r\n            }\r\n        case SAVE_PHOTO_SUCCESS:\r\n            return {\r\n                ...state,\r\n                profile: {...state.profile, photos: action.photos}\r\n            }\r\n        case ACTIVATE_EDIT_MODE:\r\n            return {\r\n                ...state,\r\n                profileEditMode: true\r\n            }\r\n        case DEACTIVATE_EDIT_MODE:\r\n            return {\r\n                ...state,\r\n                profileEditMode: false\r\n            }\r\n\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport const getProfileTh = (userID) => (dispatch) => {\r\n    profileAPI.getProfile(userID).then(response => {\r\n        dispatch(setUserProfile(response.data));\r\n    });\r\n}\r\nexport const getUserStatusTh = (userId) => (dispatch) => {\r\n    profileAPI.getStatus(userId)\r\n        .then(response => {\r\n            dispatch(setUserStatus(response.data));\r\n        });\r\n}\r\nexport const updateStatusTh = (status) => (dispatch) => {\r\n    profileAPI.updateStatus(status)\r\n        .then(response => {\r\n            if (response.data.resultCode === 0) {\r\n                dispatch(setUserStatus(status));\r\n            }\r\n        });\r\n}\r\n\r\nexport const savePhoto = (photo) => (dispatch) => {\r\n    profileAPI.savePhoto(photo)\r\n        .then(response => {\r\n            if (response.data.resultCode === 0) {\r\n                dispatch(savePhotoSuccess(response.data.data.photos));\r\n            }\r\n        });\r\n}\r\n\r\nexport const saveProfile = (data) => (dispatch, getState) => {\r\n    dispatch(editModeOff());\r\n   const userID = getState().authReducer.id\r\n    profileAPI.saveProfile(data)\r\n        .then(response => {\r\n            if (response.data.resultCode === 0) {\r\n                profileAPI.getProfile(userID).then(response => {\r\n                    dispatch(setUserProfile(response.data));\r\n\r\n                });\r\n\r\n            }\r\n\r\n        });\r\n\r\n\r\n}\r\nexport const activateProfileEditMode = () => (dispatch) => {\r\n\r\n    dispatch(editModeOn());\r\n}\r\nexport const deactivateProfileEditMode = () => (dispatch) => {\r\n    dispatch(editModeOff());\r\n}\r\n\r\n\r\nexport const addPostActionCreator = (text) => ({type: ADD_POST, newText: text});\r\nexport const setUserProfile = (profile) => ({type: SET_USER_PROFILE, profile});\r\nexport const setUserStatus = (status) => ({type: SET_USER_STATUS, status});\r\nexport const savePhotoSuccess = (photos) => ({type: SAVE_PHOTO_SUCCESS, photos});\r\nexport const editModeOn = () => ({type: ACTIVATE_EDIT_MODE});\r\nexport const editModeOff = () => ({type: DEACTIVATE_EDIT_MODE});\r\n\r\n\r\nexport default profileReducer;","import React from 'react';\r\nimport {addPostActionCreator, updateNewPostTextActionCreator} from \"../../../Redux/profile-reducer\";\r\nimport MyPosts from \"./MyPosts\";\r\nimport {connect} from \"react-redux\";\r\n\r\n\r\n\r\nlet mapStateToProps = (state) =>{\r\n    return{\r\n        profilePage: state.profilePage,\r\n        profile: state.profilePage.profile\r\n    }\r\n}\r\n\r\nlet mapDispatchToProps = (dispatch) =>{\r\n    return {\r\n        addPost: (text) => {\r\n            let action = addPostActionCreator(text);\r\n            dispatch(action);\r\n        },\r\n    }\r\n}\r\nconst MyPostsContainer = connect(mapStateToProps, mapDispatchToProps)(MyPosts);\r\nexport  default MyPostsContainer;\r\n\r\n\r\n","import React from 'react';\r\nimport MyPosts from './MyPosts/MyPosts';\r\nimport s from './Profile.module.css';\r\nimport ProfileInfo from \"./MyPosts/ProfileInfo/ProfileInfo\";\r\nimport Post from \"./MyPosts/Post/Post\";\r\nimport MyPostsContainer from \"./MyPosts/MyPostsContainer\";\r\nimport {Redirect} from \"react-router-dom\";\r\n\r\n\r\nconst Profile = (props) => {\r\n\r\n    return (\r\n        <div className=''>\r\n            <ProfileInfo profile={props.profile} id={props.id} status={props.status} updateStatus={props.updateStatus}\r\n                         isOwner={props.isOwner} savePhoto={props.savePhoto}\r\n                         activateProfileEditMode={props.activateProfileEditMode}\r\n                         deactivateProfileEditMode={props.deactivateProfileEditMode} editMode={props.editMode}\r\n                         saveProfile={props.saveProfile}\r\n            />\r\n            <MyPostsContainer/>\r\n        </div>\r\n    );\r\n}\r\nexport default Profile;","import React from \"react\";\r\nimport {Redirect} from \"react-router-dom\";\r\nimport {connect} from \"react-redux\";\r\n\r\nlet mapStateToPropsRedirect = (state) => {\r\n    return {\r\n        isAuth: state.authReducer.isAuth\r\n    }\r\n}\r\n\r\nexport const withAuthRedirect = (Component) => {\r\n    class RedirectComponent extends React.Component {\r\n        render() {\r\n            if (!this.props.isAuth) return <Redirect to={'/login'}/>;\r\n            return <Component {...this.props}/>;\r\n        }\r\n    }\r\n\r\n let   ConnectedRedirectComponent = connect(mapStateToPropsRedirect)(RedirectComponent);\r\n    return ConnectedRedirectComponent;\r\n}","import React from 'react';\r\nimport Profile from \"./Profile\";\r\nimport * as axios from \"axios\";\r\nimport {connect} from \"react-redux\";\r\nimport {\r\n    activateProfileEditMode, deactivateProfileEditMode,\r\n    getProfileTh,\r\n    getUserStatusTh,\r\n    savePhoto, saveProfile,\r\n    setUserProfile,\r\n    updateStatusTh\r\n} from \"../../Redux/profile-reducer\";\r\nimport {withRouter} from \"react-router-dom\";\r\nimport {withAuthRedirect} from \"../../HOC/WithAuthRedirect\";\r\nimport {compose} from \"redux\";\r\n\r\n\r\nclass ProfileContainer extends React.Component {\r\n    refreshProfile() {\r\n        let userID = this.props.match.params.userID;\r\n        if (!userID) {\r\n            userID = this.props.id;\r\n        }\r\n        this.props.getProfileTh(userID);\r\n        this.props.getUserStatusTh(userID);\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.refreshProfile();\r\n    }\r\n\r\n    componentDidUpdate(prevProps, prevState, snapshot) {\r\n        if (this.props.match.params.userID != prevProps.match.params.userID) {\r\n            this.refreshProfile();\r\n        }\r\n    }\r\n\r\n\r\n    render() {\r\n        return (\r\n            <div>\r\n                <Profile {...this.props} profile={this.props.profile} id={this.props.id} status={this.props.status}\r\n                         updateStatus={this.props.updateStatusTh} isOwner={!this.props.match.params.userID}\r\n                         savePhoto={this.props.savePhoto} activateProfileEditMode={this.props.activateProfileEditMode}\r\n                         deactivateProfileEditMode={this.props.deactivateProfileEditMode}\r\n                         editMode={this.props.editMode} saveProfile={this.props.saveProfile}/>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\n\r\nlet mapStateToProps = (state) => ({\r\n    profile: state.profilePage.profile,\r\n    id: state.authReducer.id,\r\n    status: state.profilePage.status,\r\n    editMode: state.profilePage.profileEditMode\r\n\r\n});\r\n\r\n\r\nexport default compose(\r\n    connect(mapStateToProps, {\r\n        setUserProfile,\r\n        getProfileTh,\r\n        getUserStatusTh,\r\n        updateStatusTh,\r\n        savePhoto,\r\n        activateProfileEditMode,\r\n        deactivateProfileEditMode,\r\n        saveProfile\r\n    }),\r\n    withAuthRedirect,\r\n    withRouter,\r\n)(ProfileContainer);","import React from 'react';\r\nimport s from './News.module.css'\r\n\r\nconst News = (props) =>{\r\n    return(\r\n        <div>\r\n            News\r\n        </div>\r\n    );\r\n}\r\nexport default News;","import React from 'react';\r\nimport s from './Music.module.css';\r\n\r\nconst Music = (props) =>{\r\n    return (\r\n        <div>\r\n            Music\r\n        </div>\r\n    );\r\n}\r\nexport default Music;","import React from 'react';\r\nimport s from './Settings.module.css';\r\n\r\nconst Settings = (props) =>{\r\n    return (\r\n        <div>\r\n            Settings\r\n        </div>\r\n    );\r\n}\r\nexport default Settings;","const SEND_MESSAGE = 'SEND-MESSAGE';\r\nlet initialState = {\r\n\r\n    dialogs: [\r\n        {id: 1, name: \"Ruslan\"},\r\n        {id: 2, name: \"Ihor\"},\r\n        {id: 3, name: \"Diana\"},\r\n    ],\r\n    messages: [\r\n        {id: 1, message: \"Hello world\"},\r\n        {id: 2, message: \"Yo\"},\r\n        {id: 3, message: \"Yo\"},\r\n        {id: 3, message: \"Yawawdaao\"},\r\n\r\n    ],\r\n\r\n}\r\n\r\nconst messagesReducer = (state = initialState, action) => {\r\n\r\n\r\n    switch (action.type) {\r\n        case SEND_MESSAGE:\r\n            return {\r\n                ...state,\r\n                messageText:'',\r\n                messages: [...state.messages,\r\n                    {id: 1,\r\n                    message: action.messageText}]\r\n            }\r\n        default:   return state;\r\n    }\r\n\r\n}\r\nexport const sendMessageActionCreator = (text) => ({type : SEND_MESSAGE, messageText: text})\r\nexport default messagesReducer;","import React from 'react';\r\nimport s from './Dialog.module.css';\r\nimport {NavLink} from \"react-router-dom\";\r\n\r\nconst Dialog = (props) => {\r\n    let path= \"/dialogs/\" + props.id;\r\n    return (\r\n        <div className={s.item}>\r\n           <NavLink to={path} activeClassName={s.active}> {props.name}</NavLink>\r\n        </div>\r\n\r\n    );\r\n}\r\nexport default Dialog;","import React from 'react';\r\nimport s from './Message.module.css';\r\n\r\nconst Message = (props) => {\r\n    return (\r\n        <div className={s.item}>\r\n            {props.messages}\r\n        </div>\r\n    );\r\n}\r\nexport default Message;","import React from 'react';\r\nimport s from './Dialogs.module.css';\r\nimport Dialog from \"./Dialog/Dialog\";\r\nimport Message from \"./Message/Message\";\r\nimport {Field, reduxForm} from \"redux-form\";\r\nimport {Textarea} from \"../Common/FormControls\";\r\nimport {maxLengthCreator, required} from \"../../utilits/validators/validators\";\r\n\r\nconst maxLength50 = maxLengthCreator(50);\r\nconst MessageForm = (props) => {\r\n\r\n    return (\r\n        <form onSubmit={props.handleSubmit}>\r\n            <div>\r\n                <Field name={\"message\"} component={Textarea} validate={[required, maxLength50]}/>\r\n            </div>\r\n            <div>\r\n                <button>Отправить</button>\r\n            </div>\r\n        </form>\r\n    )\r\n}\r\nconst MessageReduxForm = reduxForm({\r\n    form: \"message\"\r\n})(MessageForm);\r\nconst Dialogs = (props) => {\r\n\r\n\r\n    let messages = props.messagesPage.messages.map\r\n    (el => (<Message messages={el.message}/>));\r\n\r\n    let dialogs = props.messagesPage.dialogs.map(dialog =>\r\n        (<Dialog name={dialog.name} activeClassName={s.active} id={dialog.id}/>));\r\n\r\n\r\n    let onSubmit = (formData) => {\r\n        let text = formData.message\r\n        props.sendMessage(text);\r\n        formData.message = null;\r\n\r\n    }\r\n    return (\r\n        <div className={s.dialogs}>\r\n            <div className={s.dialogsItem}>\r\n                {dialogs}\r\n            </div>\r\n            <div className={s.messages}>\r\n                {messages}\r\n                <MessageReduxForm onSubmit={onSubmit}/>\r\n            </div>\r\n\r\n        </div>\r\n    );\r\n}\r\nexport default Dialogs;","import React from 'react';\r\nimport {messageTextActionCreator, sendMessageActionCreator} from \"../../Redux/messages-reducer\";\r\nimport Dialogs from \"./Dialogs\";\r\nimport {connect} from \"react-redux\";\r\nimport {withAuthRedirect} from \"../../HOC/WithAuthRedirect\";\r\nimport {compose} from \"redux\";\r\n\r\n\r\nlet mapStateToProps = (state) => {\r\n    return {\r\n        messagesPage: state.messagesPage,\r\n    }\r\n}\r\n\r\nlet mapDispatchToProps = (dispatch) => {\r\n    return {\r\n        sendMessage: (text) => {\r\n            dispatch(sendMessageActionCreator(text));\r\n        },\r\n\r\n    }\r\n}\r\n\r\n\r\n\r\nexport default compose(\r\n    connect(mapStateToProps, mapDispatchToProps),\r\nwithAuthRedirect\r\n)(Dialogs);","import React from 'react';\r\nimport s from './Navbar.module.css';\r\nimport {NavLink} from \"react-router-dom\";\r\n\r\n\r\n\r\n\r\nconst Navbar = (props) => {\r\n\r\n    return (\r\n        <div className={s.navbar}>\r\n            <nav className={s.nav}>\r\n\r\n                <div className={s.item}>\r\n                    <NavLink to=\"/news\" activeClassName={s.active}> Новости</NavLink>\r\n                </div>\r\n                <div className={s.item}>\r\n                    <NavLink to=\"/music\" activeClassName={s.active}>Музыка</NavLink>\r\n                </div>\r\n                <div className={s.item}>\r\n                    <NavLink to=\"/settings\" activeClassName={s.active}> Настройки</NavLink>\r\n                </div>\r\n\r\n            </nav>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Navbar;","import React from 'react';\r\nimport Navbar from \"./Navbar\";\r\nimport {connect} from \"react-redux\";\r\n\r\n\r\n\r\nlet mapStateToProps = (state) => {\r\n    return{\r\n        sidebar: state.sidebar\r\n    }\r\n}\r\nlet mapDispatchToProps = () => {\r\n    return{\r\n\r\n    }\r\n}\r\n\r\nconst NavbarContainer = connect(mapStateToProps, mapDispatchToProps)(Navbar);\r\n\r\nexport default NavbarContainer;\r\n","import {userAPI} from \"../API/API\";\r\n\r\nconst FOLLOW = 'FOLLOW';\r\nconst UNFOLLOW = 'UNFOLLOW';\r\nconst SET_USERS = 'SET_USERS';\r\nconst SET_CURRENT_PAGE = 'SET_CURRENT_PAGE';\r\nconst SET_USERS_TOTAL_COUNT = 'SET_USERS_TOTAL_COUNT';\r\nconst TOGGLE_IS_FETCHING = 'TOGGLE_IS_FETCHING';\r\nconst TOGGLE_IS_FOLLOWING_IN_PROGRESS = 'TOGGLE_IS_FOLLOWING_IN_PROGRESS';\r\n\r\n\r\nlet initialState = {\r\n    users: [],\r\n    pageSize: 10,\r\n    totalUsersCount: 0,\r\n    currentPage: 1,\r\n    isFetching: false,\r\n    followingInProgress: [],\r\n}\r\nconst usersReducer = (state = initialState, action) => {\r\n\r\n\r\n    switch (action.type) {\r\n        case FOLLOW: {\r\n            return {\r\n                ...state,\r\n                users: state.users.map(u => {\r\n                    if (u.id === action.userID) {\r\n                        return {...u, followed: true};\r\n                    }\r\n                    return u;\r\n                })\r\n            }\r\n        }\r\n        case UNFOLLOW : {\r\n            return {\r\n                ...state,\r\n                users: state.users.map(u => {\r\n                    if (u.id === action.userID) {\r\n                        return {...u, followed: false}\r\n                    }\r\n                    return u;\r\n                })\r\n            }\r\n        }\r\n        case SET_USERS: {\r\n            return {...state, users: action.users}\r\n        }\r\n        case SET_CURRENT_PAGE: {\r\n            return {...state, currentPage: action.currentPage}\r\n        }\r\n        case SET_USERS_TOTAL_COUNT: {\r\n            return {...state, totalUsersCount: action.count}\r\n        }\r\n        case TOGGLE_IS_FETCHING: {\r\n            return {...state, isFetching: action.isFetching}\r\n        }\r\n        case TOGGLE_IS_FOLLOWING_IN_PROGRESS: {\r\n            return {\r\n                ...state,\r\n                followingInProgress: action.isFollowing ?\r\n                    [...state.followingInProgress, action.userId]\r\n                    : state.followingInProgress.filter(id => id != action.userId)\r\n            }\r\n        }\r\n        default:\r\n            return state;\r\n    }\r\n\r\n\r\n}\r\nexport const follow = (userID) => ({type: FOLLOW, userID});\r\nexport const unfollow = (userID) => ({type: UNFOLLOW, userID});\r\nexport const setUsers = (users) => ({type: SET_USERS, users});\r\nexport const setCurrentPage = (currentPage) => ({type: SET_CURRENT_PAGE, currentPage});\r\nexport const setUsersTotalCount = (totalCount) => ({type: SET_USERS_TOTAL_COUNT, count: totalCount});\r\nexport const toggleIsFetching = (isFetching) => ({type: TOGGLE_IS_FETCHING, isFetching});\r\nexport const toggleFollowingInProgress = (isFollowing, userId) => ({\r\n    type: TOGGLE_IS_FOLLOWING_IN_PROGRESS,\r\n    isFollowing,\r\n    userId\r\n});\r\nexport const getUsersTh= (currentPage, pageSize) => (dispatch) => {\r\n    dispatch(toggleIsFetching(true));\r\n    dispatch(setCurrentPage(currentPage));\r\n    userAPI.getUsers(currentPage, pageSize).then(data => {\r\n        dispatch(toggleIsFetching(false));\r\n        dispatch(setUsers(data.items));\r\n        dispatch(setUsersTotalCount(data.totalCount));\r\n    })\r\n}\r\nexport const unfollowTh = (userId) => (dispatch) =>{\r\n    dispatch(toggleFollowingInProgress(true, userId));\r\n    userAPI.unfollow(userId).then(response => {\r\n        if (response.data.resultCode == 0) {\r\n            dispatch(unfollow(userId));\r\n        }\r\n        dispatch(toggleFollowingInProgress(false, userId));\r\n    });\r\n}\r\nexport const followTh = (userId) => (dispatch) =>{\r\n    dispatch(toggleFollowingInProgress(true, userId));\r\n    userAPI.follow(userId).then(response => {\r\n        if (response.data.resultCode == 0) {\r\n            dispatch(follow(userId));\r\n        }\r\n        dispatch(toggleFollowingInProgress(false, userId));\r\n    });\r\n}\r\nexport default usersReducer;","import React, {useState} from 'react';\r\nimport s from \"./Paginator.module.css\";\r\nimport cn from \"classnames\";\r\nimport {Button} from \"antd\";\r\n\r\n\r\nlet Paginator = ({totalItemsCount, portionSize, currentPage, onPageChange}) => {\r\n\r\n    let pagesCount = Math.ceil(totalItemsCount / portionSize);\r\n    let pages = [];\r\n    for (let i = 1; i <= pagesCount; i++) {\r\n        pages.push(i);\r\n    }\r\n\r\n    let portionCount = Math.ceil(pagesCount/portionSize);\r\n    let [portionNumber, setPortionNumber] = useState(1);\r\n    let leftPortionNumber = (portionNumber - 1) * portionSize + 1;\r\n    let rightPortionNumber = portionNumber * portionSize;\r\n\r\n    return <>\r\n        <div className={s.paginator}>\r\n\r\n          {portionNumber > 1 &&\r\n        <Button onClick={()=> {setPortionNumber (1)}}>First</Button>}\r\n        {portionNumber > 1 &&\r\n        <Button onClick={()=> {setPortionNumber (portionNumber- 1)}}>Previous</Button>}\r\n        {pages.filter(p => p >= leftPortionNumber && p<= rightPortionNumber)\r\n            .map(p => {\r\n            return<Button className={\r\n                cn({[s.selectedPage]: currentPage === p}, s.pageNumber)}\r\n                           key={p}\r\n                           onClick={(e) => {\r\n                               onPageChange(p)\r\n                           }}\r\n            >{p}</Button>\r\n        })}\r\n        {portionCount > portionNumber &&\r\n        <Button onClick={()=>{setPortionNumber(portionNumber+1)}}>Next</Button>}\r\n        {portionCount > portionNumber &&\r\n        <Button onClick={()=>{setPortionNumber(portionCount)}}>Last</Button>}\r\n\r\n    </div>\r\n    </>\r\n}\r\nexport default Paginator;","import s from \"./Users.module.css\";\r\nimport userPhoto from \"../../img/1.png\";\r\nimport React from \"react\";\r\nimport {NavLink} from \"react-router-dom\";\r\nimport Paginator from \"../Common/Paginator\";\r\nimport 'antd/dist/antd.css';\r\nimport {Button} from 'antd';\r\n\r\n\r\nconst Users = (props) => {\r\n\r\n    return <div>\r\n        <div>\r\n            <Paginator totalItemsCount={props.totalUsersCount} onPageChange={props.onPageChange}\r\n                       currentPage={props.currentPage}\r\n                       portionSize={props.pageSize}/>\r\n        </div>\r\n\r\n        {props.users.map(u => <div key={u.id}>\r\n                    <span>\r\n                        <div>\r\n                            <NavLink to={\"/profile/\" + u.id}>\r\n                            <img src={u.photos.small != null ? u.photos.small : userPhoto} className={s.userPhoto}/>\r\n                        </NavLink>\r\n                            </div>\r\n                        <div className={s.followButton}>\r\n                            {u.followed ?\r\n                                <Button type=\"primary\" size=\"middle\"\r\n                                        disabled={props.followingInProgress.some(id => id === u.id)}\r\n                                        onClick={() => {\r\n                                            props.unfollow(u.id);\r\n                                        }}> Unfollow </Button> :\r\n\r\n                                <Button type=\"primary\" size=\"middle\"\r\n                                        disabled={props.followingInProgress.some(id => id === u.id)} onClick={() => {\r\n                                    props.follow(u.id);\r\n\r\n\r\n                                }}>Follow</Button>}\r\n                        </div>\r\n                    </span>\r\n            <span>\r\n                        <span>\r\n                            <div>{u.name}</div>\r\n                            <div>{u.status}</div>\r\n                        </span>\r\n            </span>\r\n        </div>)\r\n        }\r\n    </div>\r\n}\r\nexport default Users;","import {createSelector} from \"reselect\";\r\n\r\nexport const getUsers = (state) => {\r\n   return  state.usersPage.users;\r\n}\r\nexport const getUsersSuperSelector = createSelector(getUsers, (users) => {\r\n   return  users;\r\n})\r\n\r\n\r\nexport const getPageSize = (state) => {\r\n   return  state.usersPage.pageSize;\r\n}\r\nexport const getTotalUsersCount = (state) => {\r\n   return  state.usersPage.totalUsersCount;\r\n}\r\nexport const getCurrentPage = (state) => {\r\n   return  state.usersPage.currentPage;\r\n}\r\nexport const getIsFetching = (state) => {\r\n   return  state.usersPage.isFetching;\r\n}\r\nexport const getFollowingInProgress = (state) => {\r\n   return  state.usersPage.followingInProgress;\r\n}\r\n","import React from 'react';\r\nimport {connect} from \"react-redux\";\r\nimport {\r\n    follow, followTh, getUsersTh,\r\n    setCurrentPage,\r\n    unfollow, unfollowTh\r\n} from \"../../Redux/users-reducer\";\r\n\r\nimport Users from \"./Users\";\r\nimport Preloader from \"../Common/Preloader\";\r\nimport {compose} from \"redux\";\r\nimport {withAuthRedirect} from \"../../HOC/WithAuthRedirect\";\r\nimport {\r\n    getCurrentPage, getFollowingInProgress, getIsFetching,\r\n    getPageSize,\r\n    getTotalUsersCount, getUsers, getUsersSuperSelector,\r\n} from \"../../Redux/users-selectors\";\r\n\r\nclass UsersAPI extends React.Component {\r\n\r\n    componentDidMount() {\r\n        this.props.getUsersTh(this.props.currentPage, this.props.pageSize);\r\n    }\r\n\r\n    onPageChange = (pageNumber) => {\r\n        this.props.getUsersTh(pageNumber, this.props.pageSize);\r\n    }\r\n\r\n\r\n    render() {\r\n        return <>\r\n            {this.props.isFetching ? <Preloader/> : null}\r\n            <Users totalUsersCount={this.props.totalUsersCount}\r\n                   pageSize={this.props.pageSize}\r\n                   currentPage={this.props.currentPage}\r\n                   onPageChange={this.onPageChange}\r\n                   follow={this.props.follow}\r\n                   unfollow={this.props.unfollow}\r\n                   users={this.props.users}\r\n                   isFetching={this.props.isFetching}\r\n                   followingInProgress={this.props.followingInProgress}\r\n                   toggleFollowingInProgress={this.props.toggleFollowingInProgress}\r\n                   unfollow={this.props.unfollowTh}\r\n                   follow={this.props.followTh}\r\n            /></ >\r\n    }\r\n}\r\n\r\nlet mapStateToProps = (state) => {\r\n    return {\r\n        users: getUsersSuperSelector(state),\r\n        pageSize: getPageSize(state),\r\n        totalUsersCount: getTotalUsersCount(state),\r\n        currentPage: getCurrentPage(state),\r\n        isFetching: getIsFetching(state),\r\n        followingInProgress: getFollowingInProgress(state),\r\n    }\r\n}\r\nexport default compose(\r\n   /* withAuthRedirect,*/\r\n    connect(mapStateToProps,\r\n        {\r\n            follow, unfollow, setCurrentPage, getUsersTh, unfollowTh, followTh\r\n        }))(UsersAPI);\r\n\r\n\r\n\r\n","import React from 'react';\r\nimport s from './Header.module.css';\r\nimport {NavLink} from \"react-router-dom\";\r\nimport Preloader from \"../Common/Preloader\";\r\nimport {Button} from \"react-bootstrap\";\r\n\r\nconst Header = (props) => {\r\n\r\n    return (\r\n        <header className={s.header}>\r\n        <img src='https://logoza.ru/img/rock.png' />\r\n        <div className={s.loginBlock}>\r\n            {props.isAuth? <div> {props.login} - <Button onClick={props.logout}>Log out</Button></div>\r\n            :<NavLink to={'/login'}>Login</NavLink>}\r\n        </div>\r\n        </header>\r\n    );\r\n}\r\n\r\nexport default Header;","import {authMe, loginAPI} from \"../API/API\";\r\nimport {stopSubmit} from \"redux-form\";\r\n\r\n\r\nconst SET_USER_DATA = 'SET_USER_DATA';\r\nconst SET_AUTH_PROFILE = 'SET_AUTH_PROFILE';\r\n\r\n\r\nlet initialState = {\r\n    id: null,\r\n    login: null,\r\n    email: null,\r\n    isAuth: false,\r\n    isFetching: false,\r\n    authUserProfile: null,\r\n\r\n\r\n}\r\nconst authReducer = (state = initialState, action) => {\r\n\r\n\r\n    switch (action.type) {\r\n        case SET_USER_DATA:\r\n            return {\r\n                ...state,\r\n                ...action.payload,\r\n                ...action.payload.isAuth,\r\n\r\n            }\r\n        case SET_AUTH_PROFILE:\r\n            return {\r\n                ...state,\r\n                authUserProfile: action.authProfile,\r\n\r\n            }\r\n        default:\r\n            return state;\r\n    }\r\n\r\n\r\n}\r\nexport const setAuthUserData = (id, login, email, isAuth) => ({\r\n    type: SET_USER_DATA,\r\n    payload: {id, login, email, isAuth}\r\n});\r\nexport const setAuthUserProfile = (authProfile) => ({type: SET_AUTH_PROFILE, authProfile});\r\n\r\n\r\nexport const authMeTh = () => async (dispatch) => {\r\n   let response = await authMe()\r\n               if (response.data.resultCode === 0) {\r\n                   let {id, login, email} = response.data.data;\r\n                   dispatch(setAuthUserData(id, login, email, true));\r\n\r\n               }\r\n\r\n}\r\nexport const login = (email, password, rememberMe) => async (dispatch) => {\r\n\r\n    let response = await loginAPI.login(email, password, rememberMe);\r\n        if (response.data.resultCode === 0) {\r\n            dispatch(authMeTh());\r\n        } else {\r\n            let message = response.data.messages.length > 0 ? response.data.messages[0] : \"Some error\";\r\n            dispatch(stopSubmit(\"login\", {_error: message}));\r\n        }\r\n\r\n\r\n}\r\nexport const logout = () => async (dispatch) => {\r\n   let response = await loginAPI.logout();\r\n        if (response.data.resultCode === 0) {\r\n            dispatch(setAuthUserData(null, null, null, false));\r\n        }\r\n\r\n\r\n}\r\n\r\nexport default authReducer;","import React from 'react';\r\nimport Header from \"./Header\";\r\nimport {connect} from \"react-redux\";\r\nimport {authMeTh, logout, setAuthUserData, setAuthUserProfile} from \"../../Redux/auth-reducer\";\r\n\r\nclass HeaderContainer extends React.Component {\r\n\r\n    render() {\r\n        return <Header {...this.props}/>\r\n    }\r\n}\r\n\r\nlet mapStateToProps = (state) => ({\r\n    login: state.authReducer.login,\r\n    isAuth: state.authReducer.isAuth,\r\n    authUserProfile: state.authReducer.authUserProfile,\r\n\r\n});\r\nexport default connect(mapStateToProps, {logout})(HeaderContainer);","import React from 'react'\r\nimport {Redirect} from \"react-router-dom\";\r\nimport 'antd/dist/antd.css';\r\nimport { Form, Input, Button, Checkbox } from 'antd';\r\n\r\n\r\nconst LoginForm = (props) => {\r\n\r\n    return (\r\n        <Form\r\n            name=\"basic\"\r\n            labelCol={{\r\n                span: 3,\r\n            }}\r\n            wrapperCol={{\r\n                span: 10,\r\n            }}\r\n            initialValues={{\r\n                remember: true,\r\n            }}\r\n            onFinish={props.onSubmit}\r\n\r\n\r\n        >\r\n\r\n            <Form.Item\r\n                label=\"Username\"\r\n                name=\"username\"\r\n                rules={[\r\n                    {\r\n                        required: true,\r\n                        message: 'Please input your username!',\r\n                    },\r\n                ]}\r\n            >\r\n                <Input/>\r\n            </Form.Item>\r\n\r\n            <Form.Item\r\n                label=\"Password\"\r\n                name=\"password\"\r\n                rules={[\r\n                    {\r\n                        required: true,\r\n                        message: 'Please input your password!',\r\n                    },\r\n                ]}\r\n            >\r\n                <Input.Password/>\r\n            </Form.Item>\r\n\r\n            <Form.Item\r\n                name=\"remember\"\r\n                valuePropName=\"checked\"\r\n                wrapperCol={{\r\n                    offset: 8,\r\n                    span: 16,\r\n                }}\r\n            >\r\n                <Checkbox>Remember me</Checkbox>\r\n            </Form.Item>\r\n\r\n            <Form.Item\r\n                wrapperCol={{\r\n                    offset: 8,\r\n                    span: 16,\r\n                }}\r\n            >\r\n                <Button type=\"primary\" htmlType=\"submit\">\r\n                    Submit\r\n                </Button>\r\n            </Form.Item>\r\n        </Form>\r\n        /*<form onSubmit={props.handleSubmit}>\r\n            <div>\r\n                <Field placeholder={\"Email\"} name={\"email\"} component={Input} validate={[required, maxLength20]}/>\r\n            </div>\r\n            <div>\r\n                <Field placeholder={\"Password\"} name={\"password\"} type={\"password\"} component={Input}\r\n                       validate={[required, maxLength20]}/>\r\n            </div>\r\n            <div>\r\n                <Field type={\"checkbox\"} name={\"rememberMe\"} component={Input}/> Remember me\r\n            </div>\r\n            { props.error && <div className={style.formSummaryError}>\r\n                {props.error}\r\n            </div>}\r\n            <div>\r\n                <button>Login</button>\r\n            </div>\r\n        </form>*/\r\n    )\r\n};\r\n/*const LoginReduxForm = reduxForm({\r\n    form: \"login\"\r\n})(LoginForm);*/\r\nconst Login = (props) => {\r\n    const onSubmit = (values) => {\r\n        props.login(values.username, values.password, values.remember);\r\n    }\r\n\r\n    if (props.isAuth) {\r\n        return <Redirect to={\"/profile\"}/>\r\n    } else {\r\n        return <div>\r\n            <h1>Login</h1>\r\n            <LoginForm onSubmit={onSubmit}/>\r\n        </div>\r\n    }\r\n}\r\n\r\nexport default Login;\r\n","import React from 'react'\r\nimport Login from \"./Login\";\r\nimport {compose} from \"redux\";\r\nimport {connect} from \"react-redux\";\r\nimport {login} from \"../../Redux/auth-reducer\";\r\n\r\n\r\nclass LoginContainer extends React.Component {\r\n\r\n    render() {\r\n        return (\r\n            <div><Login login={this.props.login} isAuth={this.props.isAuth}/></div>\r\n        );\r\n    }\r\n}\r\n\r\n\r\nconst mapStateToProps = (state) => ({\r\n    isAuth: state.authReducer.isAuth\r\n})\r\n\r\nexport default compose(\r\n    connect(mapStateToProps, {login}),\r\n)(LoginContainer);","import {authMeTh} from \"./auth-reducer\";\r\n\r\n\r\nconst INITIALIZED_SUCCESS = 'INITIALIZED_SUCCESS';\r\n\r\n\r\nlet initialState = {\r\n    initialized: false,\r\n\r\n\r\n}\r\nconst appReducer = (state = initialState, action) => {\r\n\r\n\r\n    switch (action.type) {\r\n        case INITIALIZED_SUCCESS:\r\n            return {\r\n                ...state,\r\n               initialized: true,\r\n\r\n            }\r\n        default:\r\n            return state;\r\n    }\r\n\r\n\r\n}\r\nexport const initializedSuccess = () => ({\r\n    type: INITIALIZED_SUCCESS,\r\n});\r\n\r\nexport const initializeApp = () => (dispatch) => {\r\n    let promise = dispatch(authMeTh());\r\npromise.then(()=>{\r\n    dispatch(initializedSuccess());\r\n});\r\n\r\n\r\n}\r\nexport default appReducer;","import React from 'react';\r\nimport './App.css';\r\nimport ProfileContainer from './Components/Profile/ProfileContainer';\r\nimport News from \"./Components/News/News\";\r\nimport {NavLink, Route, withRouter, Switch, Redirect} from \"react-router-dom\";\r\nimport Music from \"./Components/Music/Music\";\r\nimport Settings from \"./Components/Settings/Settings\";\r\nimport DialogsContainer from \"./Components/Dialogs/DialogsContainer\";\r\nimport NavbarContainer from \"./Components/Navbar/NavbarContainer\";\r\nimport UsersContainer from \"./Components/Users/UsersContainer\";\r\nimport HeaderContainer from \"./Components/Header/HeaderContainer\";\r\nimport LoginContainer from \"./Components/Login/LoginContainer\";\r\nimport {connect} from \"react-redux\";\r\nimport {compose} from \"redux\";\r\nimport {initializeApp} from \"./Redux/app-reducer\";\r\nimport Preloader from \"./Components/Common/Preloader\";\r\nimport Navbar from \"./Components/Navbar/Navbar\";\r\nimport 'antd/dist/antd.css';\r\nimport {Layout, Menu, Button} from 'antd';\r\nimport {\r\n    MenuUnfoldOutlined,\r\n    MenuFoldOutlined,\r\n    UserOutlined,\r\n    VideoCameraOutlined,\r\n    FormOutlined,\r\n    TeamOutlined,\r\n    UploadOutlined,\r\n} from '@ant-design/icons';\r\nimport s from \"./Components/Navbar/Navbar.module.css\";\r\nimport {logout} from \"./Redux/auth-reducer\";\r\nimport ProfileStatusWithHooks from \"./Components/Profile/MyPosts/ProfileInfo/ProfileStatusWithHooks\";\r\n\r\n\r\nconst {Header, Sider, Content} = Layout;\r\n\r\nclass App extends React.Component {\r\n    state = {\r\n        collapsed: false,\r\n        size: 'large',\r\n    };\r\n\r\n    toggle = () => {\r\n        this.setState({\r\n            collapsed: !this.state.collapsed,\r\n        });\r\n    };\r\n    catchAllUnhandledError = () => {\r\n        alert(\"Some Error\");\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.props.initializeApp();\r\n        window.addEventListener(\"unhandledrejection\", this.catchAllUnhandledError);\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        window.removeEventListener(\"unhandledrejection\", this.catchAllUnhandledError);\r\n    }\r\n\r\n    render() {\r\n        const {size} = this.state;\r\n        if (!this.props.initialized) {\r\n            return <Preloader/>\r\n        }\r\n        return <>\r\n            <Layout>\r\n                <Sider trigger={null} collapsible collapsed={this.state.collapsed}>\r\n                    <div className=\"logo\"/>\r\n                    <Menu theme=\"dark\" mode=\"inline\" defaultSelectedKeys={['1']}>\r\n                        <Menu.Item key=\"1\" icon={<UserOutlined/>}>\r\n                            <NavLink to=\"/profile\" activeClassName={s.active}>Профиль</NavLink>\r\n                        </Menu.Item>\r\n                        <Menu.Item key=\"2\" icon={<FormOutlined/>}>\r\n                            <NavLink to=\"/dialogs\" activeClassName={s.active}>Сообщения</NavLink>\r\n                        </Menu.Item>\r\n                        <Menu.Item key=\"3\" icon={<TeamOutlined/>}>\r\n                            <NavLink to=\"/users\" activeClassName={s.active}> Пользователи</NavLink>\r\n                        </Menu.Item>\r\n\r\n                    </Menu>\r\n                </Sider>\r\n                <Layout className=\"site-layout\">\r\n                    <Header className=\"site-layout-background\" style={{padding: 0}}>\r\n                        <div className=\"auth-block\"> {this.props.isAuth ?\r\n                            <div> {this.props.login} - <Button onClick={this.props.logout}>\r\n                                Logout</Button></div>\r\n                            : <NavLink to={'/login'}>Login</NavLink>}\r\n                        </div>\r\n                        {React.createElement(this.state.collapsed ? MenuUnfoldOutlined : MenuFoldOutlined, {\r\n                            className: 'trigger',\r\n                            onClick: this.toggle,\r\n                        })}\r\n\r\n                    </Header>\r\n                    <Content\r\n                        className=\"site-layout-background\"\r\n                        style={{\r\n                            margin: '24px 16px',\r\n                            padding: 24,\r\n                            minHeight: 280,\r\n                        }}\r\n                    >\r\n                        <Switch>\r\n                            <Route path='/' exact><Redirect to='/profile'/></Route>\r\n                            <Route path='/dialogs' render={() => <DialogsContainer/>}/>\r\n                            <Route path='/profile/:userID?' render={() => <ProfileContainer/>}/>\r\n                            <Route path='/news' render={() => <News/>}/>\r\n                            <Route path='/music' render={() => <Music/>}/>\r\n                            <Route path='/settings' render={() => <Settings/>}/>\r\n                            <Route path='/users' render={() => <UsersContainer/>}/>\r\n                            <Route path='/login' render={() => <LoginContainer/>}/>\r\n                            <Route path='*' render={() => <div>404 NOT FOUND</div>}/>\r\n                        </Switch>\r\n                    </Content>\r\n                </Layout>\r\n            </Layout>\r\n\r\n        </>\r\n\r\n\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n    initialized: state.app.initialized,\r\n    login: state.authReducer.login,\r\n    isAuth: state.authReducer.isAuth,\r\n    authUserProfile: state.authReducer.authUserProfile\r\n})\r\n\r\nexport default compose(\r\n    withRouter,\r\n    connect(mapStateToProps, {initializeApp, logout}))(App);","\r\nlet initialState ={\r\n    friendName:[\r\n        {friendsName: \"Diana\"},\r\n        {friendsName: \"Ihor\"},\r\n        {friendsName: \"Ruslan\"}\r\n    ]\r\n}\r\nconst sidebarReducer = (state = initialState, action) => {\r\n\r\n    return state;\r\n}\r\nexport default sidebarReducer;","import {applyMiddleware, combineReducers, createStore} from \"redux\";\r\nimport profileReducer from \"./profile-reducer\";\r\nimport messagesReducer from \"./messages-reducer\";\r\nimport sidebarReducer from \"./sidebar-reducer\";\r\nimport usersReducer from \"./users-reducer\";\r\nimport authReducer from \"./auth-reducer\";\r\nimport thunkMiddlware from 'redux-thunk';\r\nimport { reducer as formReducer } from 'redux-form';\r\nimport appReducer from \"./app-reducer\";\r\n\r\nlet redusers = combineReducers({\r\n   profilePage: profileReducer,\r\n    messagesPage: messagesReducer,\r\n    sidebar: sidebarReducer,\r\n    usersPage: usersReducer,\r\n    authReducer: authReducer,\r\n    app: appReducer,\r\n    form: formReducer,\r\n});\r\n\r\nlet store = createStore(redusers, applyMiddleware(thunkMiddlware));\r\nwindow.store = store;\r\n\r\nexport default store;","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\nimport store from \"./Redux/redux-store\";\r\nimport {BrowserRouter, HashRouter} from \"react-router-dom\";\r\nimport {Provider} from \"react-redux\";\r\nimport {reduxForm} from \"redux-form\";\r\n\r\n\r\nreduxForm( ReactDOM.render(\r\n    <HashRouter>\r\n        <Provider store={store}>\r\n            <App/>\r\n        </Provider>\r\n    </HashRouter>,\r\n    document.getElementById('root')\r\n))\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"nav\":\"Navbar_nav__RYyOr\",\"item\":\"Navbar_item__W2X-F\",\"active\":\"Navbar_active__fLD78\",\"navbar\":\"Navbar_navbar__3131I\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"discriptionBlock\":\"ProfileInfo_discriptionBlock__19wiO\",\"largeUserPhoto\":\"ProfileInfo_largeUserPhoto__2yYk9\",\"photoUpload\":\"ProfileInfo_photoUpload__7g6P4\",\"editProfile\":\"ProfileInfo_editProfile__1pQwz\",\"contacts\":\"ProfileInfo_contacts__2z143\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"dialogs\":\"Dialogs_dialogs__1tPrg\"};"],"sourceRoot":""}