(this["webpackJsonpreakt-kabzda-1"]=this["webpackJsonpreakt-kabzda-1"]||[]).push([[3],{671:function(e,s,t){e.exports={outerContainer:"Chat_outerContainer__egNyA",container:"Chat_container__1ZkaP",messages:"Chat_messages__3OBvi",form:"Chat_form__2rxYR",input:"Chat_input__3rOG8",sendButton:"Chat_sendButton__1ww_7"}},672:function(e,s,t){"use strict";t.r(s);var a,n=t(37),c=t(38),r=t(40),i=t(39),u=t(0),j=t.n(u),o=t(83),d=t(73),l=t(671),b=t.n(l),m=t(100),O=t.n(m),h=t(321),g=t(6),x=t.n(g),f=(t(186),t(67),t(1)),p=function(e){var s=e.messages,t=e.userID,a=s.map((function(e,s){return Object(f.jsx)(v,{message:e,userID:t},s)}));return Object(f.jsx)("div",{children:Object(f.jsx)(h.a,{children:a})})},v=function(e){var s=!1,t=e.message.userId,a=e.userID;return console.log(t,a),e.userID&&t===a&&(s=!0),s?Object(f.jsx)("div",{className:x()(O.a.messageContainer,O.a.justifyEnd),children:Object(f.jsxs)("div",{className:x()(O.a.messageBox,O.a.backgroundBlue),children:[e.message.message,Object(f.jsx)("img",{src:e.message.photo}),Object(f.jsx)("p",{children:e.message.userName}),Object(f.jsx)("p",{children:e.message.userId})]})}):Object(f.jsx)("div",{className:x()(O.a.messageContainer,O.a.justifyStart),children:Object(f.jsxs)("div",{className:x()(O.a.messageBox,O.a.backgroundLight),children:[Object(f.jsx)("p",{className:x()(O.a.messageText,O.a.colorDark),children:e.message.message}),Object(f.jsx)("img",{src:e.message.photo}),Object(f.jsx)("p",{children:e.message.userName}),Object(f.jsx)("p",{children:e.message.userId})]})})},_=function(){var e=Object(u.useState)(""),s=Object(d.a)(e,2),t=s[0],n=s[1],c=function(){a.send(t),n("")};return Object(f.jsxs)("form",{className:b.a.form,children:[Object(f.jsx)("input",{className:b.a.input,placeholder:"\u0421\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0435 . . .",value:t,onKeyPress:function(e){return"Enter"===e.key&&t?c:null},onChange:function(e){return n(e.currentTarget.value)}}),Object(f.jsx)("button",{className:b.a.sendButton,onClick:t?c:null,children:"Send"})]})},k=function(e){var s,t=Object(u.useState)([]),n=Object(d.a)(t,2),c=n[0],r=n[1],i="wss://social-network.samuraijs.com/handlers/ChatHandler.ashx";return Object(u.useEffect)((function(){(a=new WebSocket(i)).addEventListener("message",(function(e){s=JSON.parse(e.data),r((function(e){return[].concat(Object(o.a)(e),Object(o.a)(s))}))}))}),[i,s]),Object(f.jsx)("div",{className:b.a.outerContainer,children:Object(f.jsxs)("div",{className:b.a.container,children:[Object(f.jsx)("div",{className:b.a.messages,children:Object(f.jsx)(p,{messages:c,userID:e.userID})}),Object(f.jsx)(_,{})]})})},C=t(21),N=t(25),I=t(30),D=(t(324),function(e){Object(r.a)(t,e);var s=Object(i.a)(t);function t(){return Object(n.a)(this,t),s.apply(this,arguments)}return Object(c.a)(t,[{key:"render",value:function(){return Object(f.jsx)("div",{children:Object(f.jsx)(k,{userID:this.props.id})})}}]),t}(j.a.Component));s.default=Object(C.d)(Object(N.b)((function(e){return{id:e.authReducer.id}}),{}),I.g)(D)}}]);
//# sourceMappingURL=3.d6454cb4.chunk.js.map