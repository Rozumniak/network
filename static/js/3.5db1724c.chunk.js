(this["webpackJsonpreakt-kabzda-1"]=this["webpackJsonpreakt-kabzda-1"]||[]).push([[3],{670:function(e,s,a){e.exports={outerContainer:"Chat_outerContainer__2Y-qO",container:"Chat_container__1Zgkt",messages:"Chat_messages__2ABXG",form:"Chat_form__2mOWV",input:"Chat_input__1wkZM",sendButton:"Chat_sendButton__2p6bp"}},671:function(e,s,a){"use strict";a.r(s);var t,n=a(37),c=a(38),r=a(40),i=a(39),u=a(0),o=a.n(u),j=a(82),l=a(72),m=a(670),d=a.n(m),b=a(99),O=a.n(b),h=a(320),g=a(6),x=a.n(g),f=a(1),p=function(e){var s=e.messages,a=e.userID,t=s.map((function(e,s){return Object(f.jsx)(v,{message:e,userID:a},s)}));return Object(f.jsx)("div",{children:t})},v=function(e){var s=!1,a=e.message.userId,t=e.userID;return console.log(a,t),e.userID&&a===t&&(s=!0),s?Object(f.jsx)("div",{className:x()(O.a.messageContainer,O.a.justifyEnd),children:Object(f.jsxs)("div",{className:x()(O.a.messageBox,O.a.backgroundBlue),children:[e.message.message,Object(f.jsx)("div",{className:O.a.avatar,children:Object(f.jsx)("img",{src:e.message.photo})}),Object(f.jsx)("p",{className:x()(O.a.messageText,O.a.colorWhite),children:e.message.userName})]})}):Object(f.jsx)("div",{className:x()(O.a.messageContainer,O.a.justifyStart),children:Object(f.jsxs)("div",{className:x()(O.a.messageBox,O.a.backgroundLight),children:[Object(f.jsx)("p",{className:x()(O.a.messageText,O.a.colorDark),children:e.message.message}),Object(f.jsx)("div",{className:O.a.avatar,children:Object(f.jsx)("img",{src:e.message.photo})}),Object(f.jsx)("p",{className:x()(O.a.messageText,O.a.colorDark),children:e.message.userName})]})})},N=function(){var e=Object(u.useState)(""),s=Object(l.a)(e,2),a=s[0],n=s[1],c=function(){t.send(a),n("")};return Object(f.jsxs)("form",{className:d.a.form,children:[Object(f.jsx)("input",{className:d.a.input,placeholder:"\u0421\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0435 . . .",value:a,onKeyPress:function(e){return"Enter"===e.key&&a?c:null},onChange:function(e){return n(e.currentTarget.value)}}),Object(f.jsx)("button",{className:d.a.sendButton,onClick:a?c:null,children:"Send"})]})},_=function(e){var s,a=Object(u.useState)([]),n=Object(l.a)(a,2),c=n[0],r=n[1];return Object(u.useEffect)((function(){(t=new WebSocket("wss://social-network.samuraijs.com/handlers/ChatHandler.ashx")).addEventListener("message",(function(e){s=JSON.parse(e.data),r((function(e){return[].concat(Object(j.a)(e),Object(j.a)(s))}))}))}),[]),Object(f.jsx)("div",{className:d.a.outerContainer,children:Object(f.jsxs)("div",{className:d.a.container,children:[Object(f.jsx)(h.a,{className:d.a.messages,children:Object(f.jsx)(p,{messages:c,userID:e.userID})}),Object(f.jsx)(N,{})]})})},k=a(21),C=a(25),D=a(30),I=(a(323),function(e){Object(r.a)(a,e);var s=Object(i.a)(a);function a(){return Object(n.a)(this,a),s.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){return Object(f.jsx)("div",{children:Object(f.jsx)(_,{userID:this.props.id})})}}]),a}(o.a.Component));s.default=Object(k.d)(Object(C.b)((function(e){return{id:e.authReducer.id}}),{}),D.g)(I)}}]);
//# sourceMappingURL=3.5db1724c.chunk.js.map