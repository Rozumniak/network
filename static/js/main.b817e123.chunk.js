(this["webpackJsonpreakt-kabzda-1"]=this["webpackJsonpreakt-kabzda-1"]||[]).push([[0],{125:function(e,t,n){e.exports={paginator:"Paginator_paginator__TmYM-",pageNumber:"Paginator_pageNumber__VTzaX",selectedPage:"Paginator_selectedPage__3SkPi"}},145:function(e,t,n){e.exports={item:"Post_item__qgLu_"}},147:function(e,t,n){e.exports={postsBlock:"MyPosts_postsBlock__IKVWh",posts:"MyPosts_posts__2281S"}},150:function(e,t,n){e.exports={formControl:"FormControls_formControl__2Y3MO",error:"FormControls_error__3fwNV",formSummaryError:"FormControls_formSummaryError__3uC7c"}},153:function(e,t,n){e.exports={item:"Dialog_item__1E3wH",active:"Dialog_active__22o0r"}},154:function(e,t,n){e.exports={userPhoto:"Users_userPhoto__3V6cJ",followButton:"Users_followButton__10njZ"}},155:function(e,t,n){e.exports={header:"Header_header__1Ya28",loginBlock:"Header_loginBlock__AUhM_"}},200:function(e,t,n){e.exports={item:"Message_item__3PE_v"}},236:function(e,t,n){},237:function(e,t,n){},358:function(e,t,n){},360:function(e,t,n){},361:function(e,t,n){},362:function(e,t,n){},363:function(e,t,n){"use strict";n.r(t);var r=n(0),s=n.n(r),a=n(34),i=n.n(a),c=(n(236),n(35)),o=n(36),l=n(38),u=n(37),d=(n(237),n(8)),j=n(62),p=n(145),b=n.n(p),h=n(203),f=n(372),O=n.p+"static/media/1.a2446033.png",g=n(1),m=function(e){return e.profile?Object(g.jsxs)("div",{className:b.a.item,children:[Object(g.jsx)("img",{src:e.profile.photos.small||O,className:b.a.userPhoto}),e.message,Object(g.jsx)("div",{children:Object(g.jsxs)("span",{children:["like ",e.like]})}),Object(g.jsx)("div",{children:Object(g.jsx)(h.a,{onClick:function(){},icon:Object(g.jsx)(f.a,{})})}),Object(g.jsx)("div",{children:Object(g.jsx)(h.a,{onClick:e.deletePost,children:" X "})})]}):null},x=n(147),v=n.n(x),P=n(188),_=function(e){if(!e)return"Field is required"},w=function(e){return function(t){if(t.length>e)return"Max length is ".concat(e," symbols")}},C=n(368),y=n(367),S=n(33),k=n.n(S),E=n(56),N=n(144),I=N.create({withCredentials:!0,headers:{"API-KEY":"cc3bd8cc-4d54-4fd5-94a6-1a89051413f6"},baseURL:"https://social-network.samuraijs.com/api/1.0/"}),U=function(e,t){return I.get("users?page=".concat(e," &count=").concat(t)).then((function(e){return e.data}))},T=function(e){return I.delete("follow/".concat(e))},A=function(e){return I.post("follow/".concat(e))},M=function(e){return I.get("profile/"+e)},F=function(e){return I.get("profile/status/"+e)},D=function(e){return I.put("profile/status",{status:e})},R=function(e){var t=new FormData;return t.append("image",e),I.put("profile/photo",t,{headers:{"Content-Type":"multipart/form/data"}})},z=function(e){return I.put("profile",e)},L=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3?arguments[3]:void 0;return I.post("auth/login",{email:e,password:t,rememberMe:n,captcha:r})},B=function(){return I.delete("auth/login")},H=function(){return I.get("/security/get-captcha-url")},V="ADD-POST",G="SET_USER_PROFILE",J="SET_USER_STATUS",Y="STATUS_UPDATE",q="SAVE_PHOTO_SUCCESS",W="ACTIVATE_EDIT_MODE",K="DEACTIVATE_EDIT_MODE",Q="DELETE_POST",Z={posts:[{id:1,text:"Hello world",likesCount:12},{id:2,text:"This is my first post",likesCount:10}],profile:null,status:"",profileEditMode:!1,statusInProgress:!1},X=function(e){return{type:G,profile:e}},$=function(e){return{type:J,status:e}},ee=function(e){return{type:q,photos:e}},te=function(){return{type:W}},ne=function(){return{type:K}},re=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Z,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case V:return Object(d.a)(Object(d.a)({},e),{},{posts:[].concat(Object(j.a)(e.posts),[{id:6,text:t.newText,likesCount:0}])});case G:return Object(d.a)(Object(d.a)({},e),{},{profile:t.profile});case J:return Object(d.a)(Object(d.a)({},e),{},{status:t.status});case Y:return Object(d.a)(Object(d.a)({},e),{},{statusInProgress:t.isUpdate});case q:return Object(d.a)(Object(d.a)({},e),{},{profile:Object(d.a)(Object(d.a)({},e.profile),{},{photos:t.photos})});case W:return Object(d.a)(Object(d.a)({},e),{},{profileEditMode:!0});case K:return Object(d.a)(Object(d.a)({},e),{},{profileEditMode:!1});case Q:return Object(d.a)(Object(d.a)({},e),{},{posts:Object(d.a)({},e.posts.filter((function(e){return e.id!=t.postID})))});default:return e}},se={labelCol:{span:8},wrapperCol:{span:16}},ae=(C.a.TextArea,w(100),Object(P.a)({form:"addPost"})((function(e){return Object(g.jsxs)(y.a,Object(d.a)(Object(d.a)({},se),{},{name:"nest-messages",onFinish:e.onSubmit,children:[Object(g.jsx)(y.a.Item,{name:"post",size:"large",rules:[{required:!0,message:"Please input text!"}],children:Object(g.jsx)(C.a.TextArea,{})}),Object(g.jsx)(y.a.Item,{wrapperCol:Object(d.a)(Object(d.a)({},se.wrapperCol),{},{offset:6,span:100}),children:Object(g.jsx)(h.a,{type:"primary",htmlType:"submit",children:"\u041e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c"})})]}))}))),ie=s.a.memo((function(e){console.log("RENDER");var t=Object(j.a)(e.profilePage.posts).reverse().map((function(t){return Object(g.jsx)(m,{message:t.text,like:t.likesCount,dispatch:e.dispatch,profile:e.profile,deletePost:e.deletePost})}));if(!e.profile)return null;return Object(g.jsxs)("div",{className:v.a.postsBlock,children:[Object(g.jsx)("h3",{children:"My posts"}),Object(g.jsx)(ae,{onSubmit:function(t){var n=t.post;e.addPost(n),t.post=null}}),Object(g.jsx)("div",{className:v.a.posts,children:t})]})})),ce=(n(358),n(72)),oe=n.n(ce),le=n.p+"static/media/Curve-Loading.5e01ee79.gif",ue=function(){return Object(g.jsx)("div",{children:Object(g.jsx)("img",{src:le})})},de=n(93),je=function(e){var t=Object(r.useState)(!1),n=Object(de.a)(t,2),s=n[0],a=n[1],i=Object(r.useState)(e.status),c=Object(de.a)(i,2),o=c[0],l=c[1];Object(r.useEffect)((function(){l(e.status)}),[e.status]);return Object(g.jsxs)("div",{children:[!s&&Object(g.jsxs)("div",{children:[Object(g.jsx)("b",{children:"Status:   "}),Object(g.jsx)("span",{onDoubleClick:function(){e.isOwner&&a(!0)},children:e.status||"------"})]}),s&&Object(g.jsx)("div",{children:Object(g.jsx)("input",{autoFocus:!0,onBlur:function(){a(!1),e.updateStatus(o)},onChange:function(e){l(e.currentTarget.value)},value:o})})]})},pe=n(373),be=n(126),he=n(150),fe=n.n(he),Oe=n(187),ge=function(e){e.input;var t=e.meta,n=(e.child,Object(be.a)(e,["input","meta","child"])),r=t.error&&t.touched;return Object(g.jsxs)("div",{className:fe.a.formControl+" "+(r?fe.a.error:" "),children:[Object(g.jsx)("div",{children:n.children}),Object(g.jsx)("div",{children:r&&Object(g.jsx)("span",{children:t.error})})]})},me=function(e){var t=e.input,n=(e.meta,e.child,Object(be.a)(e,["input","meta","child"]));return Object(g.jsx)(ge,Object(d.a)(Object(d.a)({},e),{},{children:Object(g.jsx)("textarea",Object(d.a)(Object(d.a)({},t),n))}))},xe=function(e,t,n,r){var s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"";return Object(g.jsxs)("div",{children:[Object(g.jsx)(Oe.a,Object(d.a)({placeholder:e,name:t,validate:n,component:r},s))," ",a]})},ve=Object(P.a)({form:"edit-profile"})((function(e){var t=e.handleSubmit,n=e.props,r=e.profile;return Object(g.jsxs)("div",{children:[Object(g.jsx)("div",{className:oe.a.photoUpload,children:Object(g.jsx)(C.a,{icon:Object(g.jsx)(pe.a,{}),type:"file",onChange:function(e){e.target.files.length&&n.savePhoto(e.target.files[0])}})}),Object(g.jsxs)("form",{onSubmit:t,children:[Object(g.jsx)("div",{children:Object(g.jsx)("button",{onClick:function(){},children:"Save"})}),Object(g.jsxs)("div",{children:[Object(g.jsx)("b",{children:"Full name:"})," ",xe("Full name","fullName",[],"input")]}),Object(g.jsxs)("div",{children:[Object(g.jsx)("b",{children:"\u0412 \u043f\u043e\u0438\u0441\u043a\u0430\u0445 \u0440\u0430\u0431\u043e\u0442\u044b:"})," ",xe("","lookingForAJob",[],"input",{type:"checkbox"})]}),Object(g.jsxs)("div",{children:[Object(g.jsx)("b",{children:"\u041c\u043e\u0438 \u043d\u0430\u0432\u044b\u043a\u0438:"})," ",xe("","lookingForAJobDescription",[],me)]}),Object(g.jsxs)("div",{children:[Object(g.jsx)("b",{children:"\u041e\u0431\u043e \u043c\u043d\u0435:"})," ",xe("","aboutMe",[],me)]}),Object(g.jsxs)("div",{children:[Object(g.jsx)("b",{children:"\u041a\u043e\u043d\u0442\u0430\u043a\u0442\u044b:"})," ",Object.keys(r.contacts).map((function(e){return Object(g.jsxs)("div",{children:[Object(g.jsxs)("b",{children:[e,":"]})," ",xe(e,"contacts."+e,[],"input")]})}))]})]})]})})),Pe=function(e){return Object(g.jsxs)("div",{className:oe.a.discriptionBlock,children:[Object(g.jsxs)("div",{children:[Object(g.jsx)("b",{children:"Full name:"})," ",e.profile.fullName]}),Object(g.jsxs)("div",{children:[Object(g.jsx)("b",{children:"looking For A Job:"})," ",e.profile.lookingForAJob?"yes":"no"]}),e.profile.lookingForAJob&&Object(g.jsxs)("div",{children:[Object(g.jsx)("b",{children:"My professional skills:"})," ",e.profile.lookingForAJobDescription]}),Object(g.jsxs)("div",{children:[Object(g.jsx)("b",{children:"About me:"})," ",e.profile.aboutMe]}),Object(g.jsxs)("div",{children:[Object(g.jsx)("b",{children:"Contacts:"})," ",Object.keys(e.profile.contacts).map((function(t){return Object(g.jsx)(_e,{contactTitle:t,contactValue:e.profile.contacts[t]},t)}))]})]})},_e=function(e){var t=e.contactTitle,n=e.contactValue;return Object(g.jsxs)("div",{className:oe.a.contacts,children:[Object(g.jsxs)("b",{children:[t,":"]})," ",n]})},we=function(e){if(!e.profile)return Object(g.jsx)("div",{children:Object(g.jsx)(ue,{})});return Object(g.jsxs)("div",{children:[e.isOwner&&Object(g.jsx)("div",{className:oe.a.editProfile,children:Object(g.jsxs)(h.a,{onClick:e.editMode?e.deactivateProfileEditMode:e.activateProfileEditMode,children:[" ",e.editMode?"Cancel":"Edit"]})}),Object(g.jsxs)("div",{children:[Object(g.jsx)("img",{src:e.profile.photos.large||O,className:oe.a.largeUserPhoto}),Object(g.jsx)(je,{id:e.id,status:e.status,updateStatus:e.updateStatus,isOwner:e.isOwner}),e.isOwner&&e.editMode?Object(g.jsx)(ve,{initialValues:e.profile,profile:e.profile,savePhoto:e.savePhoto,onSubmit:function(t){e.saveProfile(t)}}):Object(g.jsx)(Pe,{profile:e.profile})]})]})},Ce=n(23),ye=n(20),Se=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(){return Object(c.a)(this,n),t.apply(this,arguments)}return Object(o.a)(n,[{key:"render",value:function(){return Object(g.jsx)("div",{children:Object(g.jsx)(ie,{profilePage:this.props.profilePage,profile:this.props.profile,deletePost:this.props.deletePost,addPost:this.props.addPostActionCreator})})}}]),n}(s.a.Component),ke=Object(ye.d)(Object(Ce.b)((function(e){return{profilePage:e.profilePage,profile:e.profilePage.profile}}),{addPostActionCreator:function(e){return{type:V,newText:e}},deletePost:function(e){return{type:Q,postID:e}}}))(Se),Ee=function(e){return Object(g.jsxs)("div",{className:"",children:[Object(g.jsx)(we,{profile:e.profile,id:e.id,status:e.status,updateStatus:e.updateStatus,isOwner:e.isOwner,savePhoto:e.savePhoto,activateProfileEditMode:e.activateProfileEditMode,deactivateProfileEditMode:e.deactivateProfileEditMode,editMode:e.editMode,saveProfile:e.saveProfile}),Object(g.jsx)(ke,{})]})},Ne=n(26),Ie=function(e){return{isAuth:e.authReducer.isAuth}},Ue=function(e){var t=function(t){Object(l.a)(r,t);var n=Object(u.a)(r);function r(){return Object(c.a)(this,r),n.apply(this,arguments)}return Object(o.a)(r,[{key:"render",value:function(){return this.props.isAuth?Object(g.jsx)(e,Object(d.a)({},this.props)):Object(g.jsx)(Ne.a,{to:"/login"})}}]),r}(s.a.Component);return Object(Ce.b)(Ie)(t)},Te=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(){return Object(c.a)(this,n),t.apply(this,arguments)}return Object(o.a)(n,[{key:"refreshProfile",value:function(){var e=this.props.match.params.userID;e||(e=this.props.id),this.props.getProfileTh(e),this.props.getUserStatusTh(e)}},{key:"componentDidMount",value:function(){this.refreshProfile()}},{key:"componentDidUpdate",value:function(e,t,n){this.props.match.params.userID!=e.match.params.userID&&this.refreshProfile()}},{key:"render",value:function(){return Object(g.jsx)("div",{children:Object(g.jsx)(Ee,Object(d.a)(Object(d.a)({},this.props),{},{profile:this.props.profile,id:this.props.id,status:this.props.status,updateStatus:this.props.updateStatusTh,isOwner:!this.props.match.params.userID,savePhoto:this.props.savePhoto,activateProfileEditMode:this.props.activateProfileEditMode,deactivateProfileEditMode:this.props.deactivateProfileEditMode,editMode:this.props.editMode,saveProfile:this.props.saveProfile,deletePost:this.props.deletePost}))})}}]),n}(s.a.Component),Ae=Object(ye.d)(Object(Ce.b)((function(e){return{profile:e.profilePage.profile,id:e.authReducer.id,status:e.profilePage.status,editMode:e.profilePage.profileEditMode}}),{setUserProfile:X,getProfileTh:function(e){return function(){var t=Object(E.a)(k.a.mark((function t(n){var r;return k.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,M(e);case 2:r=t.sent,n(X(r.data));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},getUserStatusTh:function(e){return function(){var t=Object(E.a)(k.a.mark((function t(n){var r;return k.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,F(e);case 2:r=t.sent,n($(r.data));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},updateStatusTh:function(e){return function(){var t=Object(E.a)(k.a.mark((function t(n){return k.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,D(e);case 2:0===t.sent.data.resultCode&&n($(e));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},savePhoto:function(e){return function(t){var n=R(e);0===n.data.resultCode&&t(ee(n.data.data.photos))}},activateProfileEditMode:function(){return function(e){e(te())}},deactivateProfileEditMode:function(){return function(e){e(ne())}},saveProfile:function(e){return function(t,n){t(ne());var r=n().authReducer.id;if(0===z(e).data.resultCode){var s=M(r);t(X(s.data))}}}}),Ue,Ne.g)(Te),Me=(n(360),function(e){return Object(g.jsx)("div",{children:"News"})}),Fe=n(27),De=(n(361),function(e){return Object(g.jsx)("div",{children:"Music"})}),Re=(n(362),function(e){return Object(g.jsx)("div",{children:"Settings"})}),ze="SEND-MESSAGE",Le={dialogs:[{id:1,name:"Ruslan"},{id:2,name:"Ihor"},{id:3,name:"Diana"},{jf:3}],messages:[{id:1,message:"Hello world"},{id:2,message:"Yo"},{id:3,message:"Yo"},{id:3,message:"Yawawdaao"}],messageText:""},Be=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Le,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ze:return Object(d.a)(Object(d.a)({},e),{},{messageText:"",messages:[].concat(Object(j.a)(e.messages),[{id:1,message:t.messageText}])});default:return e}},He=n(95),Ve=n.n(He),Ge=n(153),Je=n.n(Ge),Ye=function(e){var t="/dialogs/"+e.id;return Object(g.jsx)("div",{className:Je.a.item,children:Object(g.jsxs)(Fe.b,{to:t,activeClassName:Je.a.active,children:[" ",e.name]})})},qe=n(200),We=n.n(qe),Ke=function(e){return Object(g.jsx)("div",{className:We.a.item,children:e.messages})},Qe=w(50),Ze=Object(P.a)({form:"message"})((function(e){return Object(g.jsxs)("form",{onSubmit:e.handleSubmit,children:[Object(g.jsx)("div",{children:Object(g.jsx)(Oe.a,{name:"message",component:me,validate:[_,Qe]})}),Object(g.jsx)("div",{children:Object(g.jsx)("button",{children:"\u041e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c"})})]})})),Xe=function(e){var t=e.messagesPage.messages.map((function(e){return Object(g.jsx)(Ke,{messages:e.message})})),n=e.messagesPage.dialogs.map((function(e){return Object(g.jsx)(Ye,{name:e.name,activeClassName:Ve.a.active,id:e.id})}));return Object(g.jsxs)("div",{className:Ve.a.dialogs,children:[Object(g.jsx)("div",{className:Ve.a.dialogsItem,children:n}),Object(g.jsxs)("div",{className:Ve.a.messages,children:[t,Object(g.jsx)(Ze,{onSubmit:function(t){var n=t.message;e.sendMessage(n),t.message=null}})]})]})},$e=Object(ye.d)(Object(Ce.b)((function(e){return{messagesPage:e.messagesPage}}),(function(e){return{sendMessage:function(t){e(function(e){return{type:ze,messageText:e}}(t))}}})),Ue)(Xe),et=n(43),tt=n.n(et),nt=function(e){return Object(g.jsx)("div",{className:tt.a.navbar,children:Object(g.jsxs)("nav",{className:tt.a.nav,children:[Object(g.jsx)("div",{className:tt.a.item,children:Object(g.jsx)(Fe.b,{to:"/news",activeClassName:tt.a.active,children:" \u041d\u043e\u0432\u043e\u0441\u0442\u0438"})}),Object(g.jsx)("div",{className:tt.a.item,children:Object(g.jsx)(Fe.b,{to:"/music",activeClassName:tt.a.active,children:"\u041c\u0443\u0437\u044b\u043a\u0430"})}),Object(g.jsx)("div",{className:tt.a.item,children:Object(g.jsx)(Fe.b,{to:"/settings",activeClassName:tt.a.active,children:" \u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438"})})]})})},rt=(Object(Ce.b)((function(e){return{sidebar:e.sidebar}}),(function(){return{}}))(nt),n(68)),st="FOLLOW",at="UNFOLLOW",it="SET_USERS",ct="SET_CURRENT_PAGE",ot="SET_USERS_TOTAL_COUNT",lt="TOGGLE_IS_FETCHING",ut="TOGGLE_IS_FOLLOWING_IN_PROGRESS",dt={users:[],pageSize:10,totalUsersCount:0,currentPage:1,isFetching:!1,followingInProgress:[]},jt=function(e){return{type:st,userID:e}},pt=function(e){return{type:at,userID:e}},bt=function(e){return{type:ct,currentPage:e}},ht=function(e){return{type:lt,isFetching:e}},ft=function(e,t){return{type:ut,isFollowing:e,userId:t}},Ot=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:dt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case st:return Object(d.a)(Object(d.a)({},e),{},{users:e.users.map((function(e){return e.id===t.userID?Object(d.a)(Object(d.a)({},e),{},{followed:!0}):e}))});case at:return Object(d.a)(Object(d.a)({},e),{},{users:e.users.map((function(e){return e.id===t.userID?Object(d.a)(Object(d.a)({},e),{},{followed:!1}):e}))});case it:return Object(d.a)(Object(d.a)({},e),{},{users:t.users});case ct:return Object(d.a)(Object(d.a)({},e),{},{currentPage:t.currentPage});case ot:return Object(d.a)(Object(d.a)({},e),{},{totalUsersCount:t.count});case lt:return Object(d.a)(Object(d.a)({},e),{},{isFetching:t.isFetching});case ut:return Object(d.a)(Object(d.a)({},e),{},{followingInProgress:t.isFollowing?[].concat(Object(j.a)(e.followingInProgress),[t.userId]):e.followingInProgress.filter((function(e){return e!=t.userId}))});default:return e}},gt=n(154),mt=n.n(gt),xt=n(125),vt=n.n(xt),Pt=n(6),_t=n.n(Pt),wt=function(e){for(var t=e.totalItemsCount,n=e.portionSize,s=e.currentPage,a=e.onPageChange,i=Math.ceil(t/n),c=[],o=1;o<=i;o++)c.push(o);var l=Math.ceil(i/n),u=Object(r.useState)(1),d=Object(de.a)(u,2),j=d[0],p=d[1],b=(j-1)*n+1,f=j*n;return Object(g.jsx)(g.Fragment,{children:Object(g.jsxs)("div",{className:vt.a.paginator,children:[j>1&&Object(g.jsx)(h.a,{onClick:function(){p(1)},children:"First"}),j>1&&Object(g.jsx)(h.a,{onClick:function(){p(j-1)},children:"Previous"}),c.filter((function(e){return e>=b&&e<=f})).map((function(e){return Object(g.jsx)(h.a,{className:_t()(Object(rt.a)({},vt.a.selectedPage,s===e),vt.a.pageNumber),onClick:function(t){a(e)},children:e},e)})),l>j&&Object(g.jsx)(h.a,{onClick:function(){p(j+1)},children:"Next"}),l>j&&Object(g.jsx)(h.a,{onClick:function(){p(l)},children:"Last"})]})})},Ct=(n(143),function(e){return Object(g.jsxs)("div",{children:[Object(g.jsx)("div",{children:Object(g.jsx)(wt,{totalItemsCount:e.totalUsersCount,onPageChange:e.onPageChange,currentPage:e.currentPage,portionSize:e.pageSize})}),e.users.map((function(t){return Object(g.jsxs)("div",{children:[Object(g.jsxs)("span",{children:[Object(g.jsx)("div",{children:Object(g.jsx)(Fe.b,{to:"/profile/"+t.id,children:Object(g.jsx)("img",{src:null!=t.photos.small?t.photos.small:O,className:mt.a.userPhoto})})}),Object(g.jsx)("div",{className:mt.a.followButton,children:t.followed?Object(g.jsx)(h.a,{type:"primary",size:"middle",disabled:e.followingInProgress.some((function(e){return e===t.id})),onClick:function(){e.unfollow(t.id)},children:" Unfollow "}):Object(g.jsx)(h.a,{type:"primary",size:"middle",disabled:e.followingInProgress.some((function(e){return e===t.id})),onClick:function(){e.follow(t.id)},children:"Follow"})})]}),Object(g.jsx)("span",{children:Object(g.jsxs)("span",{children:[Object(g.jsx)("div",{children:t.name}),Object(g.jsx)("div",{children:t.status})]})})]},t.id)}))]})}),yt=n(201),St=Object(yt.a)((function(e){return e.usersPage.users}),(function(e){return e})),kt=function(e){return e.usersPage.pageSize},Et=function(e){return e.usersPage.totalUsersCount},Nt=function(e){return e.usersPage.currentPage},It=function(e){return e.usersPage.isFetching},Ut=function(e){return e.usersPage.followingInProgress},Tt=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(c.a)(this,n);for(var r=arguments.length,s=new Array(r),a=0;a<r;a++)s[a]=arguments[a];return(e=t.call.apply(t,[this].concat(s))).onPageChange=function(t){e.props.getUsersTh(t,e.props.pageSize)},e}return Object(o.a)(n,[{key:"componentDidMount",value:function(){this.props.getUsersTh(this.props.currentPage,this.props.pageSize)}},{key:"render",value:function(){var e;return Object(g.jsxs)(g.Fragment,{children:[this.props.isFetching?Object(g.jsx)(ue,{}):null,Object(g.jsx)(Ct,(e={totalUsersCount:this.props.totalUsersCount,pageSize:this.props.pageSize,currentPage:this.props.currentPage,onPageChange:this.onPageChange,follow:this.props.follow,unfollow:this.props.unfollow,users:this.props.users,isFetching:this.props.isFetching,followingInProgress:this.props.followingInProgress,toggleFollowingInProgress:this.props.toggleFollowingInProgress},Object(rt.a)(e,"unfollow",this.props.unfollowTh),Object(rt.a)(e,"follow",this.props.followTh),e))]})}}]),n}(s.a.Component),At=Object(ye.d)(Ue,Object(Ce.b)((function(e){return{users:St(e),pageSize:kt(e),totalUsersCount:Et(e),currentPage:Nt(e),isFetching:It(e),followingInProgress:Ut(e)}}),{follow:jt,unfollow:pt,setCurrentPage:bt,getUsersTh:function(e,t){return function(n){n(ht(!0)),n(bt(e)),U(e,t).then((function(e){var t,r;n(ht(!1)),n((t=e.items,{type:it,users:t})),n((r=e.totalCount,{type:ot,count:r}))}))}},unfollowTh:function(e){return function(t){t(ft(!0,e)),T(e).then((function(n){0==n.data.resultCode&&t(pt(e)),t(ft(!1,e))}))}},followTh:function(e){return function(t){t(ft(!0,e)),A(e).then((function(n){0==n.data.resultCode&&t(jt(e)),t(ft(!1,e))}))}}}))(Tt),Mt=n(155),Ft=n.n(Mt),Dt=n(371),Rt=function(e){return Object(g.jsxs)("header",{className:Ft.a.header,children:[Object(g.jsx)("img",{src:"https://logoza.ru/img/rock.png"}),Object(g.jsx)("div",{className:Ft.a.loginBlock,children:e.isAuth?Object(g.jsxs)("div",{children:[" ",e.login," - ",Object(g.jsx)(Dt.a,{onClick:e.logout,children:"Log out"})]}):Object(g.jsx)(Fe.b,{to:"/login",children:"Login"})})]})},zt=n(59),Lt="SET_USER_DATA",Bt="SET_AUTH_PROFILE",Ht="GET_CAPTCHA_URL",Vt={id:null,login:null,email:null,isAuth:!1,isFetching:!1,authUserProfile:null,captchaUrl:null},Gt=function(e,t,n,r){return{type:Lt,payload:{id:e,login:t,email:n,isAuth:r}}},Jt=function(e){return{type:Lt,payload:{captchaUrl:e}}},Yt=function(){return function(){var e=Object(E.a)(k.a.mark((function e(t){var n,r,s,a,i;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,I.get("auth/me");case 2:0===(n=e.sent).data.resultCode&&(r=n.data.data,s=r.id,a=r.login,i=r.email,t(Gt(s,a,i,!0)));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},qt=function(){return function(){var e=Object(E.a)(k.a.mark((function e(t){var n,r;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,H();case 2:n=e.sent,r=n.data.url,t(Jt(r));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},Wt=function(){return function(){var e=Object(E.a)(k.a.mark((function e(t){return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,B();case 2:0===e.sent.data.resultCode&&t(Gt(null,null,null,!1));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},Kt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Vt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Lt:return Object(d.a)(Object(d.a)(Object(d.a)({},e),t.payload),t.payload.isAuth);case Bt:return Object(d.a)(Object(d.a)({},e),{},{authUserProfile:t.authProfile});case Ht:return Object(d.a)(Object(d.a)(Object(d.a)({},e),t.payload),{},{captchaUrl:t.payload.captchaUrl});default:return e}},Qt=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(){return Object(c.a)(this,n),t.apply(this,arguments)}return Object(o.a)(n,[{key:"render",value:function(){return Object(g.jsx)(Rt,Object(d.a)({},this.props))}}]),n}(s.a.Component),Zt=(Object(Ce.b)((function(e){return{login:e.authReducer.login,isAuth:e.authReducer.isAuth,authUserProfile:e.authReducer.authUserProfile}}),{logout:Wt})(Qt),n(370)),Xt=function(e){return Object(g.jsx)("div",{children:Object(g.jsxs)(y.a,{name:"basic",labelCol:{span:3},wrapperCol:{span:10},initialValues:{remember:!0},onFinish:e.onSubmit,children:[Object(g.jsx)(y.a.Item,{label:"Username",name:"username",rules:[{required:!0,message:"Please input your username!"}],children:Object(g.jsx)(C.a,{})}),Object(g.jsx)(y.a.Item,{label:"Password",name:"password",rules:[{required:!0,message:"Please input your password!"}],children:Object(g.jsx)(C.a.Password,{})}),Object(g.jsx)(y.a.Item,{name:"remember",valuePropName:"checked",wrapperCol:{offset:8,span:16},children:Object(g.jsx)(Zt.a,{children:"Remember me"})}),e.captchaUrl&&Object(g.jsx)(y.a.Item,{wrapperCol:{offset:8,span:16},children:Object(g.jsx)("img",{src:e.captchaUrl})}),e.captchaUrl&&Object(g.jsx)(y.a.Item,{label:"captcha",name:"captcha",rules:[{required:!0,message:"Please input Captcha!"}],children:Object(g.jsx)(C.a,{})}),Object(g.jsx)(y.a.Item,{wrapperCol:{offset:8,span:16},children:Object(g.jsx)(h.a,{type:"primary",htmlType:"submit",children:"Submit"})})]})})},$t=function(e){return e.isAuth?Object(g.jsx)(Ne.a,{to:"/profile"}):Object(g.jsxs)("div",{children:[Object(g.jsx)("h1",{children:"Login"}),Object(g.jsx)(Xt,{onSubmit:function(t){e.login(t.username,t.password,t.remember,t.captcha)},captchaUrl:e.captchaUrl})]})},en=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(){return Object(c.a)(this,n),t.apply(this,arguments)}return Object(o.a)(n,[{key:"render",value:function(){return Object(g.jsx)("div",{children:Object(g.jsx)($t,{login:this.props.login,isAuth:this.props.isAuth,captchaUrl:this.props.captchaUrl})})}}]),n}(s.a.Component),tn=Object(ye.d)(Object(Ce.b)((function(e){return{isAuth:e.authReducer.isAuth,captchaUrl:e.authReducer.captchaUrl}}),{login:function(e,t,n,r){return function(){var s=Object(E.a)(k.a.mark((function s(a){var i,c;return k.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,L(e,t,n,r);case 2:0===(i=s.sent).data.resultCode?a(Yt()):10===i.data.resultCode?a(qt()):(c=i.data.messages.length>0?i.data.messages[0]:"Some error",a(Object(zt.a)("login",{_error:c})));case 4:case"end":return s.stop()}}),s)})));return function(e){return s.apply(this,arguments)}}()}}))(en),nn="INITIALIZED_SUCCESS",rn={initialized:!1},sn=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:rn,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case nn:return Object(d.a)(Object(d.a)({},e),{},{initialized:!0});default:return e}},an=n(366),cn=n(369),on=n(374),ln=n(375),un=n(376),dn=n(377),jn=n(378),pn=an.a.Header,bn=an.a.Sider,hn=an.a.Content,fn=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(c.a)(this,n);for(var r=arguments.length,s=new Array(r),a=0;a<r;a++)s[a]=arguments[a];return(e=t.call.apply(t,[this].concat(s))).state={collapsed:!1,size:"large"},e.toggle=function(){e.setState({collapsed:!e.state.collapsed})},e.catchAllUnhandledError=function(){alert("Some Error")},e}return Object(o.a)(n,[{key:"componentDidMount",value:function(){this.props.initializeApp(),window.addEventListener("unhandledrejection",this.catchAllUnhandledError)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("unhandledrejection",this.catchAllUnhandledError)}},{key:"render",value:function(){this.state.size;return this.props.initialized?Object(g.jsx)(g.Fragment,{children:Object(g.jsxs)(an.a,{children:[Object(g.jsxs)(bn,{trigger:null,collapsible:!0,collapsed:this.state.collapsed,children:[Object(g.jsx)("div",{className:"logo"}),Object(g.jsxs)(cn.a,{theme:"dark",mode:"inline",defaultSelectedKeys:["1"],children:[Object(g.jsx)(cn.a.Item,{icon:Object(g.jsx)(on.a,{}),children:Object(g.jsx)(Fe.b,{to:"/profile",activeClassName:tt.a.active,children:"\u041f\u0440\u043e\u0444\u0438\u043b\u044c"})},"1"),Object(g.jsx)(cn.a.Item,{icon:Object(g.jsx)(ln.a,{}),children:Object(g.jsx)(Fe.b,{to:"/dialogs",activeClassName:tt.a.active,children:"\u0421\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u044f"})},"2"),Object(g.jsx)(cn.a.Item,{icon:Object(g.jsx)(un.a,{}),children:Object(g.jsx)(Fe.b,{to:"/users",activeClassName:tt.a.active,children:" \u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0438"})},"3")]})]}),Object(g.jsxs)(an.a,{className:"site-layout",children:[Object(g.jsxs)(pn,{className:"site-layout-background",style:{padding:0},children:[Object(g.jsxs)("div",{className:"auth-block",children:[" ",this.props.isAuth?Object(g.jsxs)("div",{children:[" ",this.props.login," - ",Object(g.jsx)(h.a,{onClick:this.props.logout,children:"Logout"})]}):Object(g.jsx)(Fe.b,{to:"/login",children:"Login"})]}),s.a.createElement(this.state.collapsed?dn.a:jn.a,{className:"trigger",onClick:this.toggle})]}),Object(g.jsx)(hn,{className:"site-layout-background",style:{margin:"24px 16px",padding:24,minHeight:280},children:Object(g.jsxs)(Ne.d,{children:[Object(g.jsx)(Ne.b,{path:"/",exact:!0,children:Object(g.jsx)(Ne.a,{to:"/profile"})}),Object(g.jsx)(Ne.b,{path:"/dialogs",render:function(){return Object(g.jsx)($e,{})}}),Object(g.jsx)(Ne.b,{path:"/profile/:userID?",render:function(){return Object(g.jsx)(Ae,{})}}),Object(g.jsx)(Ne.b,{path:"/news",render:function(){return Object(g.jsx)(Me,{})}}),Object(g.jsx)(Ne.b,{path:"/music",render:function(){return Object(g.jsx)(De,{})}}),Object(g.jsx)(Ne.b,{path:"/settings",render:function(){return Object(g.jsx)(Re,{})}}),Object(g.jsx)(Ne.b,{path:"/users",render:function(){return Object(g.jsx)(At,{})}}),Object(g.jsx)(Ne.b,{path:"/login",render:function(){return Object(g.jsx)(tn,{})}}),Object(g.jsx)(Ne.b,{path:"*",render:function(){return Object(g.jsx)("div",{children:"404 NOT FOUND"})}})]})})]})]})}):Object(g.jsx)(ue,{})}}]),n}(s.a.Component),On=Object(ye.d)(Ne.g,Object(Ce.b)((function(e){return{initialized:e.app.initialized,login:e.authReducer.login,isAuth:e.authReducer.isAuth,authUserProfile:e.authReducer.authUserProfile}}),{initializeApp:function(){return function(e){e(Yt()).then((function(){e({type:nn})}))}},logout:Wt}))(fn),gn={friendName:[{friendsName:"Diana"},{friendsName:"Ihor"},{friendsName:"Ruslan"}]},mn=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:gn;return e},xn=n(202),vn=n(189),Pn=Object(ye.c)({profilePage:re,messagesPage:Be,sidebar:mn,usersPage:Ot,authReducer:Kt,app:sn,form:vn.a}),_n=Object(ye.e)(Pn,Object(ye.a)(xn.a));window.store=_n;var wn=_n;Object(P.a)(i.a.render(Object(g.jsx)(Fe.a,{children:Object(g.jsx)(Ce.a,{store:wn,children:Object(g.jsx)(On,{})})}),document.getElementById("root")))},43:function(e,t,n){e.exports={nav:"Navbar_nav__1BCBQ",item:"Navbar_item__3RZJI",active:"Navbar_active__3bnlt",navbar:"Navbar_navbar__2QnsP"}},72:function(e,t,n){e.exports={discriptionBlock:"ProfileInfo_discriptionBlock__18aui",largeUserPhoto:"ProfileInfo_largeUserPhoto__2cOi9",photoUpload:"ProfileInfo_photoUpload__oxH0y",editProfile:"ProfileInfo_editProfile__3Q2Nj",contacts:"ProfileInfo_contacts___CT2U"}},95:function(e,t,n){e.exports={dialogs:"Dialogs_dialogs__3d0hk"}}},[[363,1,2]]]);
//# sourceMappingURL=main.b817e123.chunk.js.map